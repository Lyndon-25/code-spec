# @lyndon/code-spec

[![Node.js](https://img.shields.io/badge/Node.js-20.x+-green.svg)](https://nodejs.org/)
[![pnpm](https://img.shields.io/badge/pnpm-10.x+-orange.svg)](https://pnpm.io/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8+-blue.svg)](https://www.typescriptlang.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

ä¼ä¸šçº§å‰ç«¯ç¼–ç è§„èŒƒåº“ï¼Œæä¾›**æ–‡ä»¶ç»„ç»‡**ã€**é¡µé¢æ¶æ„**ã€**ä»£ç å‘½å**ã€**TypeScript ç±»å‹ç³»ç»Ÿ**ã€**é…ç½®ç®¡ç†**ç­‰å®Œæ•´è§„èŒƒä½“ç³»ã€‚é…å¥—ä¸°å¯Œçš„å®è·µç¤ºä¾‹å’Œè‡ªåŠ¨åŒ–å·¥å…·é“¾ï¼Œä¸“ä¸º React/TypeScript é¡¹ç›®çš„æ ‡å‡†åŒ–å¼€å‘è€Œè®¾è®¡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ“š ç¼–ç è§„èŒƒä½“ç³»

- **ğŸ“ æ–‡ä»¶ç»„ç»‡è§„èŒƒ** - è¯­ä¹‰ä¼˜å…ˆã€é¢†åŸŸåˆ†ç»„ã€å¤æ•°/å•æ•°å‘½åå†³ç­–
- **ğŸ—ï¸ é¡µé¢æ¶æ„è§„èŒƒ** - å®¹å™¨-ç»„ä»¶æ¨¡å¼ã€ç›®å½•èŒè´£ã€React æœ€ä½³å®è·µ
- **ğŸ·ï¸ ä»£ç å‘½åè§„èŒƒ** - å˜é‡ã€å‡½æ•°ã€ç±»ã€ç»„ä»¶çš„ç»Ÿä¸€å‘½åçº¦å®š
- **ğŸ”§ TypeScript è§„èŒƒ** - Enumã€Interfaceã€è”åˆç±»å‹çš„ä¸“ä¸šæŒ‡å¯¼
- **ğŸ“¦ é…ç½®ç®¡ç†è§„èŒƒ** - Package.json å­—æ®µæ’åºã€é¡¹ç›®ç±»å‹æœ€ä½³å®è·µ

### ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

- **TypeScript 5.8+** - ç±»å‹å®‰å…¨ï¼Œç°ä»£å¼€å‘ä½“éªŒ
- **ESLint 9.x** - ä»£ç è´¨é‡æ£€æŸ¥ï¼ŒFlat Config é…ç½®
- **Prettier 3.x** - ä»£ç æ ¼å¼åŒ–ï¼Œç»Ÿä¸€ä»£ç é£æ ¼
- **Husky 9.x** - Git é’©å­ç®¡ç†ï¼Œè‡ªåŠ¨åŒ–å·¥ä½œæµ
- **lint-staged** - ä»…å¯¹æš‚å­˜æ–‡ä»¶æ‰§è¡Œæ£€æŸ¥ï¼Œæå‡æ•ˆç‡
- **Commitlint** - æäº¤ä¿¡æ¯è§„èŒƒåŒ–ï¼Œéµå¾ª Angular è§„èŒƒ
- **ls-lint** - æ–‡ä»¶/æ–‡ä»¶å¤¹å‘½åè§„èŒƒè‡ªåŠ¨æ ¡éªŒ

### ğŸ¯ é¡¹ç›®ä»·å€¼

- **å®Œæ•´è§„èŒƒä½“ç³»** - ä»æ–‡ä»¶ç»„ç»‡åˆ°ä»£ç ç¼–å†™çš„å…¨æµç¨‹æ ‡å‡†
- **ä¸°å¯Œå®è·µç¤ºä¾‹** - é…å¥—å®Œæ•´çš„ç¤ºä¾‹ä»£ç ï¼Œç†è®ºä¸å®è·µç»“åˆ
- **è‡ªåŠ¨åŒ–å·¥ä½œæµ** - æäº¤å‰è‡ªåŠ¨æ£€æŸ¥ï¼Œä¿éšœä»£ç è´¨é‡
- **å›¢é˜Ÿåä½œå‹å¥½** - ç»Ÿä¸€çš„ç¼–ç æ ‡å‡†ï¼Œé™ä½æ²Ÿé€šæˆæœ¬
- **ä¼ä¸šçº§åº”ç”¨** - é€‚ç”¨äºå¤§å‹ React/TypeScript é¡¹ç›®çš„è§„èŒƒåŒ–ç®¡ç†

## ğŸ“ é¡¹ç›®ç»“æ„

```
code-spec/
â”œâ”€â”€ .cursor/rules/          # ç¼–ç è§„èŒƒæ–‡æ¡£
â”‚   â”œâ”€â”€ file-organization.mdc    # æ–‡ä»¶ç»„ç»‡è§„èŒƒ
â”‚   â”œâ”€â”€ page-architecture.mdc    # é¡µé¢æ¶æ„è§„èŒƒ
â”‚   â”œâ”€â”€ code-naming.mdc          # ä»£ç å‘½åè§„èŒƒ
â”‚   â”œâ”€â”€ typescript.mdc           # TypeScript ç¼–ç è§„èŒƒ
â”‚   â””â”€â”€ package-json.mdc         # Package.json å­—æ®µè§„èŒƒ
â”œâ”€â”€ src/                    # è§„èŒƒå®è·µç¤ºä¾‹
â”‚   â”œâ”€â”€ components/         # å…¨å±€å…±äº«ç»„ä»¶ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ ui/            # åŸºç¡€ UI ç»„ä»¶
â”‚   â”œâ”€â”€ constants/         # å¸¸é‡ç®¡ç†ç¤ºä¾‹
â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰ç¤ºä¾‹
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°ç»„ç»‡ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ dates.ts       # æ—¥æœŸä¸“ç”¨å·¥å…·é›†åˆ
â”‚   â”‚   â”œâ”€â”€ formatters.ts  # é€šç”¨æ ¼å¼åŒ–å·¥å…·é›†åˆ
â”‚   â”‚   â””â”€â”€ mocks.ts       # Mock æ•°æ®å·¥å…·
â”‚   â””â”€â”€ pages/             # é¡µé¢æ¶æ„ç¤ºä¾‹
â”‚       â”œâ”€â”€ home/          # ç®€å•é¡µé¢ç¤ºä¾‹
â”‚       â””â”€â”€ hotel/facility/ # å¤æ‚ä¸šåŠ¡é¡µé¢ç¤ºä¾‹
â”œâ”€â”€ .husky/                # Git é’©å­é…ç½®
â”œâ”€â”€ .vscode/              # VS Code é…ç½®
â”œâ”€â”€ eslint.config.js      # ESLint é…ç½®ï¼ˆFlat Configï¼‰
â”œâ”€â”€ prettier.config.js    # Prettier é…ç½®
â”œâ”€â”€ .ls-lint.yml         # æ–‡ä»¶å‘½åè§„èŒƒé…ç½®
â”œâ”€â”€ commitlint.config.js  # æäº¤ä¿¡æ¯è§„èŒƒé…ç½®
â”œâ”€â”€ tsconfig.json        # TypeScript é…ç½®
â””â”€â”€ package.json         # é¡¹ç›®é…ç½®ï¼ˆéµå¾ªå­—æ®µæ’åºè§„èŒƒï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 20.x
- **pnpm**: >= 10.x

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/lyndon/code-spec.git
cd code-spec
```

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 3. å¼€å‘å‘½ä»¤

```bash
# æ„å»ºé¡¹ç›®
pnpm build

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
pnpm dev

# æ¸…ç†æ„å»ºæ–‡ä»¶
pnpm clean

# é‡æ–°æ„å»º
pnpm rebuild

# ä»£ç æ£€æŸ¥
pnpm lint

# ä»£ç æ£€æŸ¥ï¼ˆä»…æ£€æŸ¥ï¼Œä¸ä¿®å¤ï¼‰
pnpm lint:check

# ä»£ç æ ¼å¼åŒ–
pnpm format

# ä»£ç æ ¼å¼åŒ–æ£€æŸ¥
pnpm format:check

# ç±»å‹æ£€æŸ¥
pnpm type-check

# æ–‡ä»¶å‘½åè§„èŒƒæ£€æŸ¥
pnpm ls-lint
```

## ğŸ“š ç¼–ç è§„èŒƒä½“ç³»

æœ¬é¡¹ç›®æä¾›äº†å®Œæ•´çš„ç¼–ç è§„èŒƒä½“ç³»ï¼Œæ¶µç›–ä»æ–‡ä»¶ç»„ç»‡åˆ°ä»£ç ç¼–å†™çš„å„ä¸ªæ–¹é¢ï¼š

### ğŸ¯ è§„èŒƒå¯¼èˆª

| è§„èŒƒæ–‡ä»¶                                                | é€‚ç”¨èŒƒå›´     | æ ¸å¿ƒå†…å®¹                     | å¿«é€Ÿè·³è½¬                                                                                                                                                                                                                |
| ------------------------------------------------------- | ------------ | ---------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **[æ–‡ä»¶ç»„ç»‡è§„èŒƒ](.cursor/rules/file-organization.mdc)** | é¡¹ç›®æ–‡ä»¶ç»“æ„ | æ–‡ä»¶å‘½åã€ç›®å½•ç»“æ„ã€å¯¼å‡ºæ–¹å¼ | [è¯­ä¹‰ä¼˜å…ˆæ³•åˆ™](.cursor/rules/file-organization.mdc#è¯­ä¹‰ä¼˜å…ˆæ³•åˆ™) â€¢ [é¢†åŸŸåˆ†ç»„æ³•åˆ™](.cursor/rules/file-organization.mdc#é¢†åŸŸåˆ†ç»„ä¼˜äºå‘½åå‰ç¼€æ³•åˆ™) â€¢ [å¤æ•°/å•æ•°å‘½å](.cursor/rules/file-organization.mdc#å¤æ•°å•æ•°å‘½åè§„èŒƒ) |
| **[é¡µé¢æ¶æ„è§„èŒƒ](.cursor/rules/page-architecture.mdc)** | é¡µé¢çº§ç»„ç»‡   | å®¹å™¨-ç»„ä»¶æ¨¡å¼ã€ç›®å½•èŒè´£      | [å®¹å™¨-ç»„ä»¶æ¨¡å¼](.cursor/rules/page-architecture.mdc#å®¹å™¨-ç»„ä»¶æ¨¡å¼è¯¦è§£) â€¢ [ç›®å½•ç»“æ„](.cursor/rules/page-architecture.mdc#æ ‡å‡†é¡µé¢ç›®å½•ç»“æ„)                                                                               |
| **[ä»£ç å‘½åè§„èŒƒ](.cursor/rules/code-naming.mdc)**       | æ ‡è¯†ç¬¦å‘½å   | å˜é‡ã€å‡½æ•°ã€ç±»ã€Reactç»„ä»¶    | [é€šç”¨è§„åˆ™](.cursor/rules/code-naming.mdc#é€šç”¨å‘½åè§„åˆ™) â€¢ [å¸ƒå°”å€¼å†³ç­–](.cursor/rules/code-naming.mdc#å¸ƒå°”å€¼å‘½åå†³ç­–æµç¨‹)                                                                                                 |
| **[TypeScriptç¼–ç è§„èŒƒ](.cursor/rules/typescript.mdc)**  | ç±»å‹ç³»ç»Ÿ     | Enumã€Interfaceã€è”åˆç±»å‹    | [Enumå‘½å](.cursor/rules/typescript.mdc#enum-å‘½åè§„èŒƒ) â€¢ [è”åˆç±»å‹](.cursor/rules/typescript.mdc#è”åˆç±»å‹å‘½åè§„èŒƒ)                                                                                                      |
| **[Package.jsonè§„èŒƒ](.cursor/rules/package-json.mdc)**  | é¡¹ç›®é…ç½®     | å­—æ®µæ’åºã€é¡¹ç›®ç±»å‹ç¤ºä¾‹       | [å­—æ®µæ’åº](.cursor/rules/package-json.mdc#æ ‡å‡†å­—æ®µæ’åº-åŸºäºä¸šç•Œæœ€ä½³å®è·µ) â€¢ [æœ€ä½³å®è·µ](.cursor/rules/package-json.mdc#æœ€ä½³å®è·µç¤ºä¾‹)                                                                                      |

### ğŸ”— è§„èŒƒå…³ç³»

```mermaid
graph TD
    A[æ–‡ä»¶ç»„ç»‡è§„èŒƒ] --> B[é¡µé¢æ¶æ„è§„èŒƒ]
    A --> C[ä»£ç å‘½åè§„èŒƒ]
    A --> D[TypeScriptç¼–ç è§„èŒƒ]
    A --> E[Package.jsonè§„èŒƒ]

    B --> C
    B --> D
    C --> D

    A -.-> F[é¡¹ç›®æ•´ä½“ç»“æ„]
    B -.-> G[é¡µé¢çº§å®ç°]
    C -.-> H[ä»£ç å†…å®¹è§„èŒƒ]
    D -.-> I[ç±»å‹ç³»ç»Ÿè§„èŒƒ]
    E -.-> J[é…ç½®ç®¡ç†]

    style A fill:#e8f5e8
    style B fill:#e1f5fe
    style C fill:#fff3e0
    style D fill:#f3e5f5
    style E fill:#fce4ec
```

### ğŸ“– ä½¿ç”¨æŒ‡å—

#### ğŸš€ æ–°é¡¹ç›®å¼€å§‹

1. å‚è€ƒ [æ–‡ä»¶ç»„ç»‡è§„èŒƒ] å»ºç«‹é¡¹ç›®ç»“æ„
2. æŒ‰ç…§ [Package.jsonè§„èŒƒ] é…ç½®é¡¹ç›®ä¾èµ–
3. éµå¾ª [ä»£ç å‘½åè§„èŒƒ] ç¼–å†™ä»£ç 

#### ğŸ—ï¸ é¡µé¢å¼€å‘

1. æŒ‰ç…§ [é¡µé¢æ¶æ„è§„èŒƒ] ç»„ç»‡é¡µé¢æ–‡ä»¶
2. ä½¿ç”¨ [TypeScriptç¼–ç è§„èŒƒ] å®šä¹‰ç±»å‹
3. éµå¾ª [ä»£ç å‘½åè§„èŒƒ] å‘½åç»„ä»¶å’ŒçŠ¶æ€

#### ğŸ”§ å›¢é˜Ÿåä½œ

æ‰€æœ‰è§„èŒƒäº’ç›¸é…åˆï¼Œå½¢æˆå®Œæ•´çš„ç¼–ç æ ‡å‡†ä½“ç³»ï¼Œç¡®ä¿å›¢é˜Ÿä»£ç é£æ ¼ç»Ÿä¸€ã€å¯ç»´æŠ¤æ€§å¼ºã€‚

## ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

### ä»£ç é£æ ¼

- **ESLint**: ä½¿ç”¨ Flat Config é…ç½®ï¼Œæ”¯æŒ TypeScript
- **Prettier**: ç»Ÿä¸€ä»£ç æ ¼å¼åŒ–ï¼Œä¸ ESLint å®Œç¾é›†æˆ
- **å¯¼å…¥æ’åº**: è‡ªåŠ¨æŒ‰å­—æ¯é¡ºåºæ’åºï¼Œä¸åŒç»„é—´ç©ºè¡Œåˆ†éš”

### æ–‡ä»¶å‘½åè§„èŒƒ

ä½¿ç”¨ `ls-lint` è‡ªåŠ¨æ ¡éªŒæ–‡ä»¶/æ–‡ä»¶å¤¹å‘½åï¼š

- **æ™®é€šæ–‡ä»¶/æ–‡ä»¶å¤¹**: å¿…é¡»ä½¿ç”¨ `kebab-case`ï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰
- **Hook æ–‡ä»¶**: ä»¥ `use` å¼€å¤´çš„æ–‡ä»¶å…è®¸ä½¿ç”¨ `camelCase`ï¼ˆå¦‚ `useModel.ts`ï¼‰

### Git æäº¤æµç¨‹

#### è‡ªåŠ¨åŒ–æ£€æŸ¥

1. **pre-commit é’©å­**:
   - æ‰§è¡Œ `lint-staged`ï¼Œä»…æ£€æŸ¥æš‚å­˜æ–‡ä»¶
   - è‡ªåŠ¨ä¿®å¤ ESLint é—®é¢˜
   - è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
   - æ£€æŸ¥æ–‡ä»¶å‘½åè§„èŒƒ

2. **commit-msg é’©å­**:
   - ä½¿ç”¨ Commitlint æ ¡éªŒæäº¤ä¿¡æ¯
   - éµå¾ª Angular æäº¤è§„èŒƒ

#### lint-staged é…ç½®

```json
{
  "*": ["ls-lint"],
  "*.{js,jsx,ts,tsx}": ["eslint --fix", "prettier --write"],
  "*.{json,md,yml,yaml}": ["prettier --write"]
}
```

#### æäº¤ä¿¡æ¯è§„èŒƒ

æ ¼å¼ï¼š`<type>(<scope>): <subject>`

**ç±»å‹ (type)**:

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³
- `revert`: å›æ»š
- `build`: æ„å»ºç³»ç»Ÿ
- `ci`: æŒç»­é›†æˆ

**ç¤ºä¾‹**:

```bash
feat(user): æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
fix(auth): ä¿®å¤ç™»å½•éªŒè¯é€»è¾‘
docs(readme): æ›´æ–°é¡¹ç›®è¯´æ˜æ–‡æ¡£
style(eslint): è°ƒæ•´ä»£ç æ ¼å¼åŒ–è§„åˆ™
```

## ğŸ“¦ ä¸»è¦ä¾èµ–

### ç”Ÿäº§ä¾èµ–

- [dayjs](https://day.js.org/) - è½»é‡çº§æ—¥æœŸå¤„ç†åº“
- [lodash-es](https://lodash.com/) - å®ç”¨å·¥å…·å‡½æ•°åº“
- [zod](https://zod.dev/) - TypeScript ä¼˜å…ˆçš„æ¨¡å¼éªŒè¯

### å¼€å‘ä¾èµ–

- [TypeScript](https://www.typescriptlang.org/) - JavaScript çš„è¶…é›†
- [ESLint](https://eslint.org/) - ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·
- [Prettier](https://prettier.io/) - ä»£ç æ ¼å¼åŒ–å·¥å…·
- [Husky](https://typicode.github.io/husky/) - Git é’©å­ç®¡ç†
- [lint-staged](https://github.com/okonet/lint-staged) - æš‚å­˜æ–‡ä»¶æ£€æŸ¥
- [Commitlint](https://commitlint.js.org/) - æäº¤ä¿¡æ¯è§„èŒƒæ£€æŸ¥
- [ls-lint](https://ls-lint.org/) - æ–‡ä»¶å‘½åè§„èŒƒæ£€æŸ¥

## ğŸ”§ é…ç½®è¯´æ˜

### ESLint é…ç½®

- ä½¿ç”¨ Flat Config æ ¼å¼
- é›†æˆ TypeScript æ”¯æŒ
- ä¸ Prettier å®Œç¾é…åˆ
- è‡ªåŠ¨å¯¼å…¥æ’åº

### Prettier é…ç½®

- å•è¡Œæœ€å¤§é•¿åº¦: 120 å­—ç¬¦
- ç¼©è¿›: 2 ä¸ªç©ºæ ¼
- ä½¿ç”¨åŒå¼•å·
- å°¾éšé€—å·: å…¨éƒ¨

### TypeScript é…ç½®

- ä¸¥æ ¼æ¨¡å¼å¯ç”¨
- ESNext ç›®æ ‡
- æ¨¡å—è§£æ: bundler
- è¾“å‡ºç›®å½•: `./dist`

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. **Fork é¡¹ç›®**å¹¶åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. **å®‰è£…ä¾èµ–**: `pnpm install`
3. **å¼€å‘ä»£ç **ï¼Œç¡®ä¿é€šè¿‡æ‰€æœ‰æ£€æŸ¥
4. **æäº¤ä»£ç **ï¼Œéµå¾ªæäº¤è§„èŒƒ
5. **åˆ›å»º Pull Request**

### ä»£ç æ£€æŸ¥

æäº¤å‰ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

- âœ… ESLint ä»£ç è´¨é‡æ£€æŸ¥
- âœ… Prettier ä»£ç æ ¼å¼åŒ–
- âœ… ls-lint æ–‡ä»¶å‘½åè§„èŒƒ
- âœ… Commitlint æäº¤ä¿¡æ¯è§„èŒƒ

### æ‰‹åŠ¨æ£€æŸ¥

```bash
# ä»£ç è´¨é‡æ£€æŸ¥
pnpm lint

# ä»£ç æ ¼å¼åŒ–
pnpm format

# ç±»å‹æ£€æŸ¥
pnpm type-check

# æ–‡ä»¶å‘½åæ£€æŸ¥
pnpm ls-lint
```

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºï¼Œæ¬¢è¿è‡ªç”±ä½¿ç”¨å’Œè´¡çŒ®ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **ä½œè€…**: Lyndon
- **é‚®ç®±**: wuxianzhi052@gmail.com
- **GitHub**: [@lyndon](https://github.com/lyndon)
- **Issues**: [GitHub Issues](https://github.com/lyndon/code-spec/issues)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
