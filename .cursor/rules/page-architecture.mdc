---
alwaysApply: true
appliesTo:
  - "**/pages/**/*.tsx"
  - "**/pages/**/*.ts"
  - "**/pages/**/index.tsx"
  - "**/pages/*/**/index.tsx"
---

# é¡µé¢æ¶æ„è§„èŒƒ

## è§„èŒƒæ¥æº

æœ¬è§„èŒƒåŸºäºé¡¹ç›® `pages/home` ç›®å½•ç»“æ„åˆ¶å®šï¼Œé‡‡ç”¨ **å®¹å™¨-ç»„ä»¶æ¨¡å¼**ï¼ˆContainer-Component Patternï¼‰ï¼Œç¡®ä¿é¡µé¢é€»è¾‘æ¸…æ™°ã€èŒè´£åˆ†ç¦»ã€å¯ç»´æŠ¤æ€§å¼ºã€‚

> ğŸ“‹ **é€‚ç”¨èŒƒå›´**: æœ¬è§„èŒƒæ”¯æŒå¹³é“ºå’Œé¢†åŸŸåˆ†ç»„ä¸¤ç§é¡µé¢ç»„ç»‡æ–¹å¼ï¼Œç¡®ä¿é¡¹ç›®ä¸­æ‰€æœ‰é¡µé¢ä¿æŒä¸€è‡´çš„æ¶æ„æ¨¡å¼ã€‚æ ¹æ®ä¸šåŠ¡å¤æ‚åº¦çµæ´»é€‰æ‹©åˆé€‚çš„ç»„ç»‡æ–¹å¼ã€‚

## å®¹å™¨-ç»„ä»¶æ¨¡å¼è¯¦è§£

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

å®¹å™¨-ç»„ä»¶æ¨¡å¼ï¼ˆContainer-Component Patternï¼‰æ˜¯ä¸€ç§é‡è¦çš„å‰ç«¯æ¶æ„è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†UIç»„ä»¶åˆ†ä¸ºä¸¤ä¸ªä¸åŒèŒè´£çš„å±‚æ¬¡ï¼š

#### å®¹å™¨ï¼ˆContainerï¼‰

- **èŒè´£**ï¼šè´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€çŠ¶æ€ç®¡ç†ã€æ•°æ®å¤„ç†
- **ç‰¹ç‚¹**ï¼šåŒ…å«çŠ¶æ€ï¼ˆstateï¼‰ã€å¤„ç†å‰¯ä½œç”¨ã€APIè°ƒç”¨
- **ä½ç½®**ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­å¯¹åº” `models/` ç›®å½•

#### ç»„ä»¶ï¼ˆComponentï¼‰

- **èŒè´£**ï¼šè´Ÿè´£UIæ¸²æŸ“ã€ç”¨æˆ·äº¤äº’å±•ç¤º
- **ç‰¹ç‚¹**ï¼šæ— çŠ¶æ€æˆ–å°‘çŠ¶æ€ã€çº¯å±•ç¤ºé€»è¾‘
- **ä½ç½®**ï¼šåœ¨ä½ çš„é¡¹ç›®ä¸­å¯¹åº” `views/` å’Œ `components/` ç›®å½•

### ğŸ“Š æ¨¡å¼æ¶æ„å›¾

```mermaid
graph TD
    A["ğŸ“± é¡µé¢å…¥å£<br/>(index.tsx)"] --> B["ğŸ—ï¸ å®¹å™¨å±‚<br/>(models/)"]
    A --> C["ğŸ¨ ç»„ä»¶å±‚<br/>(views/ & components/)"]

    B --> B1["ä¸šåŠ¡é€»è¾‘"]
    B --> B2["çŠ¶æ€ç®¡ç†"]
    B --> B3["APIè°ƒç”¨"]
    B --> B4["æ•°æ®å¤„ç†"]

    C --> C1["UIæ¸²æŸ“"]
    C --> C2["ç”¨æˆ·äº¤äº’"]
    C --> C3["æ ·å¼å±•ç¤º"]
    C --> C4["è§†å›¾ç»„è£…"]

    B -.-> C

    style A fill:#e1f5fe
    style B fill:#e8f5e8,stroke:#4caf50,stroke-width:2px
    style C fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    style B1 fill:#f1f8e9
    style B2 fill:#f1f8e9
    style B3 fill:#f1f8e9
    style B4 fill:#f1f8e9
    style C1 fill:#fef7e0
    style C2 fill:#fef7e0
    style C3 fill:#fef7e0
    style C4 fill:#fef7e0
```

### ğŸ—ï¸ é¡¹ç›®ä¸­çš„å®ç°æ–¹å¼

#### 1. å®¹å™¨å±‚ï¼ˆmodels/ï¼‰

```typescript
// models/page.ts - ä¸šåŠ¡é€»è¾‘å®¹å™¨
import { createContainer } from "unstated-next";

const usePageContainer = () => {
  const [loading, setLoading] = useState(false);
  const [user, setUser] = useState(null);

  // ä¸šåŠ¡é€»è¾‘ï¼šAPIè°ƒç”¨ã€æ•°æ®å¤„ç†
  const fetchUserData = async (userId: string) => {
    setLoading(true);
    try {
      const result = await api.getUser(userId);
      setUser(result);
    } finally {
      setLoading(false);
    }
  };

  return {
    state: { user, loading },
    fetchUserData,
  };
};

export const Page = createContainer(usePageContainer);
```

#### 2. ç»„ä»¶å±‚ï¼ˆviews/ & components/ï¼‰

```typescript
// views/main/index.tsx - è§†å›¾ç»„ä»¶
import { Page } from "../../models/page";

const Main = () => {
  // ä»å®¹å™¨è·å–çŠ¶æ€å’Œæ–¹æ³•
  const { state: { user, loading }, fetchUserData } = Page.useContainer();

  // åªè´Ÿè´£UIæ¸²æŸ“
  return (
    <div>
      {loading ? <div>Loading...</div> : <div>{user?.name}</div>}
      <button onClick={() => fetchUserData('123')}>åŠ è½½ç”¨æˆ·</button>
    </div>
  );
};
```

### âœ… æ¨¡å¼ä¼˜åŠ¿

#### 1. **èŒè´£åˆ†ç¦»**

- ä¸šåŠ¡é€»è¾‘ä¸UIé€»è¾‘å®Œå…¨åˆ†ç¦»
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§

#### 2. **å¤ç”¨æ€§å¢å¼º**

- å®¹å™¨å¯ä»¥è¢«å¤šä¸ªç»„ä»¶å¤ç”¨
- ç»„ä»¶å¯ä»¥æ¥å—ä¸åŒçš„æ•°æ®æº

#### 3. **æµ‹è¯•å‹å¥½**

- å®¹å™¨æµ‹è¯•ï¼šä¸“æ³¨ä¸šåŠ¡é€»è¾‘æµ‹è¯•
- ç»„ä»¶æµ‹è¯•ï¼šä¸“æ³¨UIæ¸²æŸ“æµ‹è¯•

#### 4. **å›¢é˜Ÿåä½œ**

- å‰ç«¯å·¥ç¨‹å¸ˆå¯ä»¥åˆ†å·¥ï¼šæœ‰äººè´Ÿè´£é€»è¾‘ï¼Œæœ‰äººè´Ÿè´£UI
- å‡å°‘ä»£ç å†²çª

### ğŸ”„ ä¸ä¼ ç»Ÿæ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§       | ä¼ ç»Ÿæ¨¡å¼          | å®¹å™¨-ç»„ä»¶æ¨¡å¼      |
| ---------- | ----------------- | ------------------ |
| æ•°æ®æµ     | Propså±‚å±‚ä¼ é€’     | å®¹å™¨ç›´æ¥æ¶ˆè´¹       |
| é€»è¾‘åˆ†å¸ƒ   | æ•£è½åœ¨å„ç»„ä»¶      | é›†ä¸­åœ¨å®¹å™¨å±‚       |
| æµ‹è¯•å¤æ‚åº¦ | éœ€è¦mockå¤§é‡props | å®¹å™¨å’Œç»„ä»¶ç‹¬ç«‹æµ‹è¯• |
| ä»£ç ç»´æŠ¤   | ä¿®æ”¹å½±å“å¤šä¸ªæ–‡ä»¶  | ä¿®æ”¹é›†ä¸­åœ¨å®¹å™¨     |

### ğŸ¯ é¡µé¢çº§åˆ«çš„å®ç°ç¤ºä¾‹

#### é¡µé¢å…¥å£ï¼ˆç»„è£…å®¹å™¨å’Œç»„ä»¶ï¼‰

```typescript
// ğŸ“ pages/home/index.tsx - é¡µé¢å…¥å£ï¼Œç»„è£…å®¹å™¨å’Œç»„ä»¶
import { Page } from "./models/page";
import Main from "./views/main";

const Home = () => {
  return (
    <Page.Provider>  {/* å®¹å™¨æä¾›å™¨ */}
      <Main />       {/* ä¸»è¦ç»„ä»¶ */}
    </Page.Provider>
  );
};
```

#### ç»„ä»¶å†…éƒ¨çš„æ•°æ®æ¶ˆè´¹

```typescript
// ğŸ“ components/user-card/index.tsx
import { Page } from "../../models/page";

const UserCard = ({ size = 'medium' }) => {
  // ç›´æ¥ä»å®¹å™¨æ¶ˆè´¹æ•°æ®ï¼Œé¿å…propsä¼ é€’
  const { state: { user } } = Page.useContainer();

  return (
    <div className={`card ${size}`}>
      <img src={user?.avatar} />
      <span>{user?.name}</span>
    </div>
  );
};
```

### ğŸ¨ å®é™…åº”ç”¨åœºæ™¯

1. **è¡¨å•é¡µé¢**ï¼šè¡¨å•é€»è¾‘åœ¨å®¹å™¨ï¼ŒUIç»„ä»¶åªè´Ÿè´£æ¸²æŸ“
2. **åˆ—è¡¨é¡µé¢**ï¼šæ•°æ®è·å–ã€ç­›é€‰ã€åˆ†é¡µé€»è¾‘åœ¨å®¹å™¨
3. **ä»ªè¡¨æ¿**ï¼šä¸šåŠ¡æ•°æ®å¤„ç†åœ¨å®¹å™¨ï¼Œå›¾è¡¨ç»„ä»¶çº¯å±•ç¤º
4. **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·çŠ¶æ€ç®¡ç†åœ¨å®¹å™¨ï¼Œå„UIæ¨¡å—æ¶ˆè´¹æ•°æ®

## å‘½åçº¦å®š

### ğŸ¯ å‘½åä½“ç³»æ¦‚è§ˆ

é¡µé¢æ¶æ„çš„å‘½åæ¶‰åŠå¤šä¸ªå±‚é¢ï¼Œéœ€è¦ä¿æŒä¸€è‡´æ€§å’Œè¯­ä¹‰æ¸…æ™°ï¼š

#### ğŸ“ æ–‡ä»¶å’Œç›®å½•å‘½å

- **é¢†åŸŸç›®å½•**: `kebab-case` (å¦‚: `hotel`)
- **é¡µé¢ç›®å½•**: `kebab-case` (å¦‚: `facility`, `info`, `booking`)
- **ç»„ä»¶æ–‡ä»¶**: `index.tsx` + `index.module.scss` (ä»…é™ views å’Œ components ç›®å½•)
- **ä¸šåŠ¡æ–‡ä»¶**: ä¸šåŠ¡å¼ºç›¸å…³å‘½åï¼Œç¦æ­¢ä½¿ç”¨ `index.ts/tsx` (é€‚ç”¨äº constantsã€typesã€utilsã€models ç­‰)
- **å‚è€ƒ**: è¯¦è§ã€Šæ–‡ä»¶ç»„ç»‡è§„èŒƒã€‹å’Œã€Šä»£ç æ ‡è¯†ç¬¦å‘½åè§„èŒƒã€‹

#### ğŸ—ï¸ è·¯å¾„å‘½åçº¦å®š

##### âœ… æ¨èçš„è·¯å¾„ç»“æ„

```
pages/hotel/facility/          # hotelä¸šåŠ¡ + facilityåŠŸèƒ½
pages/hotel/info/              # hotelä¸šåŠ¡ + infoåŠŸèƒ½
pages/hotel/booking/           # hotelä¸šåŠ¡ + bookingåŠŸèƒ½
```

##### âŒ é¿å…çš„è·¯å¾„ç»“æ„

```
pages/hotel-facility/          # âŒ åº”è¯¥æ‹†åˆ†ä¸º hotel/facility
pages/hotelInfo/               # âŒ åº”è¯¥ç”¨ kebab-case: hotel/info
pages/HotelBooking/            # âŒ åº”è¯¥ç”¨ kebab-case: hotel/booking
```

#### âš›ï¸ ç»„ä»¶å‘½å

- **é¡µé¢ç»„ä»¶**: `PascalCase` å‘½å (å¦‚: `HotelFacility`, `Home`)
- **è§†å›¾ç»„ä»¶**: åŠŸèƒ½æè¿° (å¦‚: `Main`, `Header`, `List`)
- **åŸå­ç»„ä»¶**: åŠŸèƒ½æè¿° (å¦‚: `Card`, `Table`, `Modal`)

### ğŸ”‘ é¢†åŸŸå†…å‘½åå»å†—ä½™åŸåˆ™

**è§„åˆ™**ï¼šå½“æ–‡ä»¶å·²ä½äºç‰¹å®šé¢†åŸŸç›®å½•å†…æ—¶ï¼Œç¦æ­¢åœ¨å­æ–‡ä»¶å’Œç›®å½•ä¸­é‡å¤ä½¿ç”¨é¢†åŸŸå‰ç¼€ã€‚

```typescript
// âœ… å¼ºåˆ¶ï¼šå»é™¤å†—ä½™ï¼Œè¯­ä¹‰ç²¾ç¡®
pages/hotel/facility/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ card/                   // ç®€æ´æ˜ç¡®
â”œâ”€â”€ views/
â”‚   â””â”€â”€ list/                   // åŠŸèƒ½ç›´è§‚
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ display.ts              // è¯­ä¹‰æ˜ç¡®
â””â”€â”€ utils/
    â””â”€â”€ format.ts               // èŒè´£æ˜ç¡®

// âŒ ç¦æ­¢ï¼šé¢†åŸŸå†…å‘½åå†—ä½™
pages/hotel/facility/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ facility-card/          // è¿è§„ï¼šfacility å‰ç¼€å†—ä½™
â”œâ”€â”€ views/
â”‚   â””â”€â”€ facility-list/          // è¿è§„ï¼šfacility å‰ç¼€å†—ä½™
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ facility.ts             // è¿è§„ï¼šæ¨¡ç³Šå‘½å
â””â”€â”€ utils/
    â””â”€â”€ facility.ts             // è¿è§„ï¼šæ¨¡ç³Šå‘½å
```

## ç›®å½•ç»“æ„è§„èŒƒ

### æ ‡å‡†é¡µé¢ç›®å½•ç»“æ„

#### ğŸ—ï¸ æ”¯æŒå±‚çº§åŒ–é¡µé¢ç»„ç»‡

é¡µé¢ç›®å½•æ”¯æŒ**å¹³é“ºç»“æ„**å’Œ**é¢†åŸŸåˆ†ç»„ç»“æ„**ä¸¤ç§ç»„ç»‡æ–¹å¼ï¼š

##### 1. å¹³é“ºç»“æ„ï¼ˆç®€å•é¡µé¢ï¼‰

```
pages/
â”œâ”€â”€ home/                      # é¦–é¡µ
â”‚   â”œâ”€â”€ index.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ views/
â”‚   â””â”€â”€ models/
â””â”€â”€ about/                     # å…³äºé¡µé¢
    â”œâ”€â”€ index.tsx
    â”œâ”€â”€ components/
    â”œâ”€â”€ views/
    â””â”€â”€ models/
```

##### 2. é¢†åŸŸåˆ†ç»„ç»“æ„ï¼ˆæ¨èç”¨äºå¤æ‚ä¸šåŠ¡ï¼‰

```
pages/
â”œâ”€â”€ hotel/                     # é…’åº—ä¸šåŠ¡é¢†åŸŸ
â”‚   â”œâ”€â”€ facility/              # é…’åº—è®¾æ–½é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx          # é¡µé¢å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ components/        # é¡µé¢åŸå­ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ card/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.module.scss
â”‚   â”‚   â”‚   â””â”€â”€ filter-panel/
â”‚   â”‚   â”‚       â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚       â””â”€â”€ index.module.scss
â”‚   â”‚   â”œâ”€â”€ constants/         # æ¨¡å—å¸¸é‡å’Œæšä¸¾
â”‚   â”‚   â”‚   â”œâ”€â”€ facility.ts
â”‚   â”‚   â”‚   â””â”€â”€ filter.ts
â”‚   â”‚   â”œâ”€â”€ models/            # ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ page.ts        # ä¸»é€»è¾‘å®¹å™¨
â”‚   â”‚   â”‚   â””â”€â”€ filter.ts      # ç­›é€‰é€»è¾‘å®¹å™¨(å¯é€‰)
â”‚   â”‚   â”œâ”€â”€ types/             # é¡µé¢ç±»å‹å®šä¹‰(å¯é€‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ facility.ts
â”‚   â”‚   â”‚   â””â”€â”€ filter.ts
â”‚   â”‚   â”œâ”€â”€ utils/             # é¡µé¢ä¸“ç”¨å·¥å…·æ–¹æ³•
â”‚   â”‚   â”‚   â”œâ”€â”€ validation.ts
â”‚   â”‚   â”‚   â””â”€â”€ format.ts
â”‚   â”‚   â””â”€â”€ views/             # è§†å›¾ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ main/          # ä¸»è§†å›¾(ç»„è£…å…¶ä»–è§†å›¾)
â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚       â”‚   â””â”€â”€ index.module.scss
â”‚   â”‚       â””â”€â”€ list/          # è®¾æ–½åˆ—è¡¨è§†å›¾
â”‚   â”‚           â”œâ”€â”€ index.tsx
â”‚   â”‚           â””â”€â”€ index.module.scss
â”‚   â”œâ”€â”€ info/                  # é…’åº—ä¿¡æ¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â””â”€â”€ booking/               # é…’åº—é¢„è®¢é¡µé¢
â”‚       â”œâ”€â”€ index.tsx
â”‚       â”œâ”€â”€ components/
â”‚       â”œâ”€â”€ views/
â”‚       â”œâ”€â”€ models/
â”‚       â””â”€â”€ utils/

```

## é¡µé¢ç»„ç»‡åŸåˆ™

### ğŸ¯ é¢†åŸŸåˆ†ç»„å†³ç­–

#### ä½•æ—¶ä½¿ç”¨é¢†åŸŸåˆ†ç»„ï¼Ÿ

- **å¤æ‚ä¸šåŠ¡ç³»ç»Ÿ**ï¼šå½“æŸä¸ªä¸šåŠ¡é¢†åŸŸæœ‰å¤šä¸ªç›¸å…³é¡µé¢æ—¶
- **å›¢é˜Ÿåä½œ**ï¼šä¸åŒå›¢é˜Ÿè´Ÿè´£ä¸åŒä¸šåŠ¡é¢†åŸŸæ—¶
- **åŠŸèƒ½å†…èš**ï¼šç›¸å…³åŠŸèƒ½é¡µé¢éœ€è¦å…±äº«ç»„ä»¶ã€å·¥å…·ç­‰æ—¶

#### ä½•æ—¶ä½¿ç”¨å¹³é“ºç»“æ„ï¼Ÿ

- **ç®€å•åº”ç”¨**ï¼šé¡µé¢æ•°é‡è¾ƒå°‘ï¼Œä¸šåŠ¡é€»è¾‘ç®€å•
- **ç‹¬ç«‹é¡µé¢**ï¼šé¡µé¢ä¹‹é—´å…³è”æ€§è¾ƒå¼±
- **å¿«é€ŸåŸå‹**ï¼šé¡¹ç›®åˆæœŸæˆ–æ¼”ç¤ºé¡¹ç›®

#### é¢†åŸŸåˆ†ç»„ç¤ºä¾‹

```typescript
// âœ… é…’åº—ä¸šåŠ¡é¢†åŸŸ - åŠŸèƒ½å†…èš
pages/hotel/
â”œâ”€â”€ facility/     # è®¾æ–½ç®¡ç†
â”œâ”€â”€ info/         # åŸºç¡€ä¿¡æ¯
â”œâ”€â”€ booking/      # é¢„è®¢ç®¡ç†
â””â”€â”€ reviews/      # è¯„ä»·ç®¡ç†
```

### ğŸ¯ é¡µé¢ç»„ç»‡å†³ç­–æµç¨‹å›¾

```mermaid
graph TD
    A["ğŸ—ï¸ é¡µé¢ç»„ç»‡å†³ç­–"] --> B{"ä¸šåŠ¡å¤æ‚åº¦è¯„ä¼°"}

    B -->|ç®€å•åº”ç”¨<br/>é¡µé¢è¾ƒå°‘| C["ğŸ“„ å¹³é“ºç»“æ„"]
    B -->|å¤æ‚ä¸šåŠ¡<br/>å¤šä¸ªç›¸å…³é¡µé¢| D["ğŸ¢ é¢†åŸŸåˆ†ç»„ç»“æ„"]

    C --> C1["pages/home/<br/>â”œâ”€â”€ index.tsx<br/>â”œâ”€â”€ components/<br/>â”œâ”€â”€ views/<br/>â””â”€â”€ models/"]
    C --> C2["pages/about/<br/>â”œâ”€â”€ index.tsx<br/>â”œâ”€â”€ components/<br/>â”œâ”€â”€ views/<br/>â””â”€â”€ models/"]

        D --> D1["ğŸ¨ Hotel é¢†åŸŸ"]

        D1 --> D1A["pages/hotel/facility/<br/>é…’åº—è®¾æ–½é¡µé¢"]
    D1 --> D1B["pages/hotel/info/<br/>é…’åº—ä¿¡æ¯é¡µé¢"]
    D1 --> D1C["pages/hotel/booking/<br/>é¢„è®¢ç®¡ç†é¡µé¢"]

    D1A --> E["ğŸ“ æ ‡å‡†é¡µé¢ç»“æ„<br/>â”œâ”€â”€ index.tsx (å…¥å£)<br/>â”œâ”€â”€ components/ (åŸå­ç»„ä»¶)<br/>â”œâ”€â”€ constants/ (å¸¸é‡)<br/>â”œâ”€â”€ models/ (ä¸šåŠ¡é€»è¾‘)<br/>â”œâ”€â”€ types/ (ç±»å‹å®šä¹‰)<br/>â”œâ”€â”€ utils/ (å·¥å…·æ–¹æ³•)<br/>â””â”€â”€ views/ (è§†å›¾ç»„ä»¶)"]
    D1B --> E
    D1C --> E

    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#e8f5e8
    style D fill:#f3e5f5
    style E fill:#fce4ec

    classDef domainBox fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef pageBox fill:#f9fbe7,stroke:#689f38,stroke-width:1px

    class D1 domainBox
    class D1A,D1B,D1C,C1,C2 pageBox
```

### ğŸ”— è·¨é¢†åŸŸå…±äº«ç»„ä»¶

å½“å¤šä¸ªé¢†åŸŸéœ€è¦å…±äº«ç»„ä»¶æ—¶ï¼Œåº”æå‡åˆ°æ›´é«˜å±‚çº§ï¼š

```
src/
â”œâ”€â”€ components/              # å…¨å±€å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                 # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ button/
â”‚   â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â””â”€â”€ modal/
â”‚   â””â”€â”€ business/           # ä¸šåŠ¡å…±äº«ç»„ä»¶
â”‚       â”œâ”€â”€ user-avatar/
â”‚       â”œâ”€â”€ date-picker/
â”‚       â””â”€â”€ address-form/
â””â”€â”€ pages/
    â””â”€â”€ hotel/
        â”œâ”€â”€ facility/       # ä½¿ç”¨å…¨å±€ç»„ä»¶
        â”œâ”€â”€ info/           # ä½¿ç”¨å…¨å±€ç»„ä»¶
        â””â”€â”€ booking/        # ä½¿ç”¨å…¨å±€ç»„ä»¶
```

## æ ¸å¿ƒæ¶æ„åŸåˆ™

### 1. å®¹å™¨-ç»„ä»¶åˆ†ç¦»

```typescript
// âœ… æ­£ç¡®ï¼šé€»è¾‘åœ¨ modelsï¼Œè§†å›¾åœ¨ views
// models/page.ts
import { createContainer } from "unstated-next";

const useContainer = () => {
  const [data, setData] = useState();
  const handleAction = () => { /* ä¸šåŠ¡é€»è¾‘ */ };

  return {
    state: { data },
    handleAction,
  };
};

export const Page = createContainer(useContainer);

// views/main/index.tsx
import { Page } from "../../models/page";

const Main = () => {
  const { state: { data }, handleAction } = Page.useContainer();
  return <div onClick={handleAction}>{data}</div>;
};
```

### 2. é¡µé¢å…¥å£æ¨¡å¼

```typescript
// âœ… é¡µé¢å…¥å£æ–‡ä»¶æ ‡å‡†æ ¼å¼
// index.tsx
import { Page } from "./models/page";
import Main from "./views/main";

const PageName = () => {
  return (
    <Page.Provider>
      <Main />
    </Page.Provider>
  );
};

export default PageName;
```

### 3. é¢†åŸŸå†…å‘½åå»å†—ä½™åŸåˆ™

**è§„åˆ™**ï¼šå½“æ–‡ä»¶å·²ä½äºç‰¹å®šé¢†åŸŸç›®å½•å†…æ—¶ï¼Œç¦æ­¢åœ¨å­æ–‡ä»¶å’Œç›®å½•ä¸­é‡å¤ä½¿ç”¨é¢†åŸŸå‰ç¼€ã€‚

```typescript
// âœ… å¼ºåˆ¶ï¼šå»é™¤å†—ä½™ï¼Œè¯­ä¹‰ç²¾ç¡®
pages/hotel/facility/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ card/                   // ç®€æ´æ˜ç¡®
â”œâ”€â”€ views/
â”‚   â””â”€â”€ list/                   // åŠŸèƒ½ç›´è§‚
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ display.ts              // è¯­ä¹‰æ˜ç¡®
â””â”€â”€ utils/
    â””â”€â”€ format.ts               // èŒè´£æ˜ç¡®

// âŒ ç¦æ­¢ï¼šé¢†åŸŸå†…å‘½åå†—ä½™
pages/hotel/facility/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ facility-card/          // è¿è§„ï¼šfacility å‰ç¼€å†—ä½™
â”œâ”€â”€ views/
â”‚   â””â”€â”€ facility-list/          // è¿è§„ï¼šfacility å‰ç¼€å†—ä½™
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ facility.ts             // è¿è§„ï¼šæ¨¡ç³Šå‘½å
â””â”€â”€ utils/
    â””â”€â”€ facility.ts             // è¿è§„ï¼šæ¨¡ç³Šå‘½å
```

## ç›®å½•èŒè´£å®šä¹‰

### ğŸ“ index.tsx

- **èŒè´£**: é¡µé¢å…¥å£æ–‡ä»¶ï¼Œè´Ÿè´£çŠ¶æ€å®¹å™¨çš„æä¾›å’Œä¸»è§†å›¾çš„æ¸²æŸ“
- **åŸåˆ™**:
  - åªåŒ…å« Provider çš„ç»„è£…å’Œä¸»è§†å›¾çš„å¼•å…¥
  - ä¸åŒ…å«å…·ä½“ä¸šåŠ¡é€»è¾‘
  - ä½¿ç”¨é¡µé¢åç§°ä½œä¸ºç»„ä»¶å

```typescript
// âœ… æ ‡å‡†æ ¼å¼
import { Page } from "./models/page";
import Main from "./views/main";

const Home = () => {
  return (
    <Page.Provider>
      <Main />
    </Page.Provider>
  );
};

export default Home;
```

### ğŸ“ models/

- **èŒè´£**: é¡µé¢æ‰€æœ‰ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†
- **åŸåˆ™**:
  - ä½¿ç”¨ `unstated-next` åˆ›å»ºçŠ¶æ€å®¹å™¨
  - `page.ts` æ˜¯ä¸»é€»è¾‘å®¹å™¨ï¼ŒåŒ…å«é¡µé¢æ ¸å¿ƒé€»è¾‘
  - æ ¹æ®é¡µé¢å¤æ‚åº¦æ‹†åˆ†å…¶ä»–é€»è¾‘å®¹å™¨ï¼ˆå¦‚ `form.ts`ï¼‰
  - åŒ…å«æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å¤„ç†ã€API è°ƒç”¨
  - æ¯ä¸ªæ–‡ä»¶è´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ
  - **å¯¼å‡ºç»“æ„è§„èŒƒ**: å˜é‡/çŠ¶æ€æ”¾åœ¨ `state` å¯¹è±¡ä¸­ï¼Œæ–¹æ³•æ”¾åœ¨å¤–å±‚
  - **æ’åºè§„èŒƒ**: æ‰€æœ‰å¯¼å‡ºå†…å®¹æŒ‰å•è¯é•¿åº¦ä»å°åˆ°å¤§æ’åºï¼Œé•¿åº¦ç›¸åŒæ—¶æŒ‰å­—æ¯é¡ºåºæ’åº

```typescript
// âœ… models/page.ts - ä¸»é€»è¾‘å®¹å™¨
import { createContainer } from "unstated-next";
import { UserFormData } from "../types";

const usePageContainer = () => {
  const [loading, setLoading] = useState(false);
  const [user, setUser] = useState<UserFormData | null>(null);
  const [currentView, setCurrentView] = useState<"list" | "form">("list");

  const fetchUserData = async (userId: string) => {
    setLoading(true);
    try {
      const result = await api.getUser(userId);
      setUser(result);
    } finally {
      setLoading(false);
    }
  };

  const updateUser = async (userData: UserFormData) => {
    setLoading(true);
    try {
      const result = await api.updateUser(userData);
      setUser(result);
    } finally {
      setLoading(false);
    }
  };

  const switchView = (view: "list" | "form") => {
    setCurrentView(view);
  };

  return {
    state: {
      user,
      loading,
      currentView,
    },
    switchView,
    updateUser,
    fetchUserData,
  };
};

export const Page = createContainer(usePageContainer);
```

```typescript
// âœ… models/form.ts - è¡¨å•é€»è¾‘å®¹å™¨ï¼ˆå¯é€‰ï¼‰
import { createContainer } from "unstated-next";
import { UserFormData } from "../types";
import { validateUserForm } from "../utils/validation";

const useFormContainer = () => {
  const [formData, setFormData] = useState<UserFormData>({
    name: "",
    email: "",
    age: 0,
  });
  const [errors, setErrors] = useState<Record<string, string>>({});

  const updateField = (field: keyof UserFormData, value: any) => {
    setFormData((prev) => ({ ...prev, [field]: value }));

    // æ¸…é™¤å½“å‰å­—æ®µçš„é”™è¯¯
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };

  const validateForm = () => {
    const result = validateUserForm(formData);
    setErrors(result.errors);
    return result.isValid;
  };

  const resetForm = () => {
    setFormData({ name: "", email: "", age: 0 });
    setErrors({});
  };

  return {
    state: {
      errors,
      formData,
    },
    resetForm,
    updateField,
    validateForm,
  };
};

export const Form = createContainer(useFormContainer);
```

#### å¯¼å‡ºæ’åºç¤ºä¾‹

```typescript
// âœ… å®Œæ•´çš„æŒ‰é•¿åº¦æ’åºç¤ºä¾‹
const useExampleContainer = () => {
  const [name, setName] = useState("");
  const [loading, setLoading] = useState(false);
  const [isActive, setIsActive] = useState(true);

  const save = () => {};
  const validateForm = () => {};

  return {
    state: {
      name,
      loading,
      isActive,
    },
    save,
    validateForm,
  };
};
```

### ğŸ“Š å¯¼å‡ºæ’åºè§„åˆ™å›¾

```mermaid
graph LR
    A["å¯¼å‡ºç»“æ„"] --> B["state å¯¹è±¡"]
    A --> C["æ–¹æ³•"]

    B --> B1["å˜é‡æŒ‰é•¿åº¦æ’åº"]
    B --> B2["é•¿åº¦ç›¸åŒæŒ‰å­—æ¯æ’åº"]

    C --> C1["æ–¹æ³•æŒ‰é•¿åº¦æ’åº"]
    C --> C2["é•¿åº¦ç›¸åŒæŒ‰å­—æ¯æ’åº"]

    B1 --> D["name<br/>loading<br/>isActive"]
    C1 --> E["save<br/>validateForm"]

    style A fill:#e1f5fe
    style B fill:#e8f5e8
    style C fill:#fff3e0
    style D fill:#fce4ec
    style E fill:#f3e5f5
```

### ğŸ“ views/

- **èŒè´£**: é¡µé¢è§†å›¾ç»„ä»¶ï¼ŒæŒ‰åŠŸèƒ½åŒºå—åˆ’åˆ†
- **åŸåˆ™**:
  - åªè´Ÿè´£ UI å±•ç¤ºï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
  - é€šè¿‡ `useContainer()` è·å–çŠ¶æ€å’Œæ–¹æ³•
  - `main/` ä½œä¸ºä¸»è§†å›¾ï¼Œç»„è£…å…¶ä»–è§†å›¾ç»„ä»¶
  - å…¶ä»–è§†å›¾æŒ‰é¡µé¢åŠŸèƒ½åˆ’åˆ†ï¼ˆHeaderã€Footerã€ä¸šåŠ¡åŒºå—ç­‰ï¼‰

```typescript
// âœ… views/main/index.tsx - ä¸»è§†å›¾ï¼Œç»„è£…å…¶ä»–è§†å›¾
import { Page } from "../../models/page";
import List from "../list";
import Form from "../form";
import styles from "./index.module.scss";

const Main = () => {
  const { state: { loading, currentView }, switchView } = Page.useContainer();

  if (loading) return <div>Loading...</div>;

  return (
    <div className={styles.container}>
      {currentView === 'list' && <List />}
      {currentView === 'form' && <Form />}
    </div>
  );
};

export default Main;
```

### ğŸ“ components/

- **èŒè´£**: é¡µé¢åŸå­ç»„ä»¶ï¼Œæä¾›ç»™ views ä½¿ç”¨
- **åŸåˆ™**:
  - å½“å‰é¡µé¢ä¸“ç”¨çš„åŸå­çº§å¯å¤ç”¨ç»„ä»¶
  - è¢« views ä¸­çš„ç»„ä»¶å¼•ç”¨å’Œä½¿ç”¨
  - **ç›´æ¥æ¶ˆè´¹ models ä¸‹çš„æ•°æ®**ï¼Œé¿å… props å±‚å±‚ä¼ é€’
  - **props ç”¨äºé…ç½®å‹å±æ€§**ï¼ˆå¦‚ sizeã€variantã€disabledï¼‰ï¼Œä¸šåŠ¡é€»è¾‘æ•°æ®ç›´æ¥æ¶ˆè´¹ models
  - **å•æ¬¡ä½¿ç”¨çš„ç»„ä»¶æ— éœ€ props**ï¼Œé…ç½®ç›´æ¥ç¡¬ç¼–ç ï¼›å¤šæ¬¡ä½¿ç”¨æ‰éœ€è¦ props å¤„ç†å·®å¼‚
  - é€šè¿‡ `useContainer()` è·å–æ‰€éœ€çš„çŠ¶æ€å’Œæ–¹æ³•
  - ä¸“æ³¨äºå•ä¸€åŠŸèƒ½ï¼Œä¿æŒç»„ä»¶çš„åŸå­æ€§

```typescript
// âœ… components/user-avatar/index.tsx - å¤šæ¬¡ä½¿ç”¨çš„ç»„ä»¶ï¼Œéœ€è¦ props å¤„ç†é…ç½®å·®å¼‚
import { Page } from "../../models/page";
import styles from "./index.module.scss";

interface UserAvatarProps {
  size?: 'small' | 'medium' | 'large';
}

const UserAvatar = ({ size = 'medium' }: UserAvatarProps) => {
  const { state: { user } } = Page.useContainer();

  return (
    <img
      className={`${styles.avatar} ${styles[size]}`}
      src={user?.avatar}
      alt={user?.name}
    />
  );
};

export default UserAvatar;
```

```typescript
// âœ… components/edit-button/index.tsx - ä¸“ç”¨çš„ç¼–è¾‘æŒ‰é’®ç»„ä»¶
import { Page } from "../../models/page";
import styles from "./index.module.scss";

interface EditButtonProps {
  variant?: 'primary' | 'secondary';
}

const EditButton = ({ variant = 'primary' }: EditButtonProps) => {
  const { state: { loading }, updateUser } = Page.useContainer();

  return (
    <button
      className={`${styles.button} ${styles[variant]}`}
      onClick={updateUser}
      disabled={loading}
    >
      ç¼–è¾‘èµ„æ–™
    </button>
  );
};

export default EditButton;
```

```typescript
// âœ… components/save-button/index.tsx - å•æ¬¡ä½¿ç”¨çš„ç»„ä»¶ï¼Œæ— éœ€ props
import { Page } from "../../models/page";
import styles from "./index.module.scss";

const SaveButton = () => {
  const { state: { loading }, saveData } = Page.useContainer();

  return (
    <button
      className={styles.saveButton}
      onClick={saveData}
      disabled={loading}
    >
      {loading ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜'}
    </button>
  );
};

export default SaveButton;
```

### ğŸ“ constants/

- **èŒè´£**: é¡µé¢æ¨¡å—å¸¸é‡å’Œæšä¸¾å®šä¹‰
- **åŸåˆ™**:
  - å­˜å‚¨é¡µé¢ä¸“ç”¨çš„å¸¸é‡å’Œæšä¸¾
  - é¿å…ç¡¬ç¼–ç ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§
  - **å¸¸é‡ç»Ÿä¸€ä½¿ç”¨ UPPER_SNAKE_CASE å‘½å**
  - æšä¸¾ä½¿ç”¨ `PascalCase` å‘½å
  - æ–‡ä»¶åå¿…é¡»ä¸šåŠ¡å¼ºç›¸å…³ï¼Œé¿å…æ¨¡ç³Šå‘½åå¦‚ `enums.ts`

```typescript
// âœ… constants/form.ts - è¡¨å•ç›¸å…³å¸¸é‡å’Œæšä¸¾
export const FORM_CONFIG = {
  maxNameLength: 50,
  minAge: 18,
  defaultCountry: "CN",
};

export const VALIDATION_MESSAGES = {
  requiredField: "æ­¤å­—æ®µä¸ºå¿…å¡«é¡¹",
  invalidEmail: "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",
  passwordTooShort: "å¯†ç é•¿åº¦è‡³å°‘8ä½",
};

export enum FormStep {
  BasicInfo = 1,
  ContactInfo = 2,
  Preferences = 3,
  Confirmation = 4,
}
```

```typescript
// âœ… constants/facility.ts - è®¾æ–½ç›¸å…³å¸¸é‡å’Œæšä¸¾
export enum FacilityType {
  Pool = "pool",
  Gym = "gym",
  Spa = "spa",
  Restaurant = "restaurant",
}

export const FACILITY_CONFIG = {
  maxDisplayCount: 20,
  defaultFilterType: "all",
  imageMaxSize: 5 * 1024 * 1024, // 5MB
};
```

### ğŸ“ utils/

- **èŒè´£**: é¡µé¢ä¸“ç”¨å·¥å…·æ–¹æ³•
- **åŸåˆ™**:
  - çº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨
  - åªåœ¨å½“å‰é¡µé¢ä¸­ä½¿ç”¨çš„å·¥å…·æ–¹æ³•
  - å‡½æ•°å‘½åä½¿ç”¨åŠ¨è¯å¼€å¤´
  - æŒ‰åŠŸèƒ½æ¨¡å—åˆ†æ–‡ä»¶ç»„ç»‡
  - **ç¦æ­¢ä½¿ç”¨ `index.ts`**ï¼Œå¿…é¡»ä½¿ç”¨ä¸šåŠ¡å¼ºç›¸å…³çš„æ–‡ä»¶å

```typescript
// âœ… utils/format.ts - æ ¼å¼åŒ–å·¥å…·
export const formatUserDisplayName = (user: UserType): string => {
  return `${user.firstName} ${user.lastName}`;
};

export const formatStepProgress = (currentStep: number, totalSteps: number): string => {
  return `${currentStep}/${totalSteps}`;
};
```

```typescript
// âœ… utils/validation.ts - é¡µé¢ä¸“ç”¨éªŒè¯å·¥å…·
import { VALIDATION_MESSAGES } from "../constants/form";

export const validateUserForm = (formData: UserFormData): ValidationResult => {
  const errors: ValidationErrors = {};

  if (!formData.name.trim()) {
    errors.name = VALIDATION_MESSAGES.requiredField;
  }

  if (!isValidEmail(formData.email)) {
    errors.email = VALIDATION_MESSAGES.invalidEmail;
  }

  return {
    isValid: Object.keys(errors).length === 0,
    errors,
  };
};

const isValidEmail = (email: string): boolean => {
  const EMAIL_REGEX = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return EMAIL_REGEX.test(email);
};
```

### ğŸ“ types/ (å¯é€‰)

- **èŒè´£**: é¡µé¢ä¸“ç”¨ç±»å‹å®šä¹‰
- **åŸåˆ™**:
  - å®šä¹‰é¡µé¢å†…ä½¿ç”¨çš„ TypeScript ç±»å‹
  - å¤æ‚é¡µé¢å»ºè®®åˆ›å»ºï¼Œç®€å•é¡µé¢å¯çœç•¥
  - æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†æ–‡ä»¶ç»„ç»‡
  - **ç¦æ­¢ä½¿ç”¨ `index.ts`**ï¼Œå¿…é¡»ä½¿ç”¨ä¸šåŠ¡å¼ºç›¸å…³çš„æ–‡ä»¶å

```typescript
// âœ… types/form.ts - è¡¨å•ç›¸å…³ç±»å‹
export interface UserFormData {
  name: string;
  email: string;
  age: number;
  status: UserStatus;
}

export interface ValidationResult {
  isValid: boolean;
  errors: ValidationErrors;
}

export type ValidationErrors = Record<string, string>;
```

```typescript
// âœ… types/step.ts - æ­¥éª¤ç›¸å…³ç±»å‹
export interface StepData {
  id: number;
  title: string;
  isCompleted: boolean;
  isActive: boolean;
}

export interface StepNavigation {
  canGoNext: boolean;
  canGoPrev: boolean;
  nextStep: () => void;
  prevStep: () => void;
}
```

## æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **çŠ¶æ€æå‡**: å°†æ‰€æœ‰çŠ¶æ€ç®¡ç†ç»Ÿä¸€åœ¨ `models/` ä¸­
2. **èŒè´£å•ä¸€**: æ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸ
3. **åŸå­ç»„ä»¶**: `components/` æä¾›åŸå­çº§å¯å¤ç”¨ç»„ä»¶
4. **è§†å›¾ç»„è£…**: `views/main` ç»„è£…å…¶ä»–è§†å›¾ç»„ä»¶
5. **é€»è¾‘æ‹†åˆ†**: å¤æ‚é¡µé¢æŒ‰ä¸šåŠ¡é¢†åŸŸæ‹†åˆ† models
6. **ç±»å‹å®‰å…¨**: å¤æ‚é¡µé¢åˆ›å»º `types/` ç›®å½•å®šä¹‰ç±»å‹
7. **æ ·å¼éš”ç¦»**: ä½¿ç”¨ SCSS Modules é¿å…æ ·å¼å†²çª
8. **é¿å…ç¡¬ç¼–ç **: ä½¿ç”¨ `constants/` ç®¡ç†å¸¸é‡å’Œæšä¸¾
9. **ç»„ä»¶æ•°æ®æ¶ˆè´¹**: `components/` ç›´æ¥æ¶ˆè´¹ `models/` æ•°æ®ï¼Œprops ä»…åœ¨å¤šæ¬¡ä½¿ç”¨æ—¶ç”¨äºé…ç½®å·®å¼‚
10. **æ–‡ä»¶å‘½åè§„èŒƒ**: ä¸¥æ ¼éµå¾ªã€Šæ–‡ä»¶ç»„ç»‡è§„èŒƒã€‹ï¼Œä¸šåŠ¡æ–‡ä»¶ç¦ç”¨ `index.ts/tsx`

### âŒ é¿å…åšæ³•

1. **é€šè¿‡ props ä¼ é€’ä¸šåŠ¡æ•°æ®ç»™ components**

```typescript
// âŒ é”™è¯¯ï¼šé€šè¿‡ props ä¼ é€’ä¸šåŠ¡æ•°æ®
// views/info/index.tsx
const Info = () => {
  const { state: { user, loading } } = Page.useContainer();

  return (
    <div>
      <Avatar src={user.avatar} alt={user.name} size="large" />
      <ActionButton
        text="ç¼–è¾‘èµ„æ–™"
        loading={loading}
        onClick={() => updateUser()}
      />
    </div>
  );
};

// âŒ é”™è¯¯ï¼šcomponents æ¥æ”¶ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„ props
// components/action-button/index.tsx
const ActionButton = ({ text, loading, onClick }: ActionButtonProps) => {
  return (
    <button onClick={onClick} disabled={loading}>
      {text}
    </button>
  );
};
```

2. **å•æ¬¡ä½¿ç”¨çš„ç»„ä»¶ä¸å¿…è¦åœ°ä½¿ç”¨ props**

```typescript
// âœ… æ­£ç¡®ï¼šå•æ¬¡ä½¿ç”¨çš„ç»„ä»¶ç›´æ¥ç¡¬ç¼–ç é…ç½®
const ConfirmDialog = () => {
  const { state: { visible }, hideDialog, confirmAction } = Page.useContainer();

  return (
    <dialog open={visible}>
      <h3>ç¡®è®¤åˆ é™¤</h3>
      <p>åˆ é™¤åæ— æ³•æ¢å¤ï¼Œç¡®å®šè¦åˆ é™¤å—ï¼Ÿ</p>
      <button onClick={confirmAction}>ç¡®è®¤åˆ é™¤</button>
    </dialog>
  );
};

// âŒ é”™è¯¯ï¼šå•æ¬¡ä½¿ç”¨çš„ç»„ä»¶ä½¿ç”¨äº†ä¸å¿…è¦çš„ props
// components/confirm-dialog/index.tsx
interface ConfirmDialogProps {
  title: string;
  message: string;
  confirmText: string;
}

const ConfirmDialog = ({ title, message, confirmText }: ConfirmDialogProps) => {
  const { state: { visible }, hideDialog, confirmAction } = Page.useContainer();

  return (
    <dialog open={visible}>
      <h3>{title}</h3>
      <p>{message}</p>
      <button onClick={confirmAction}>{confirmText}</button>
    </dialog>
  );
};
```

3. **åœ¨è§†å›¾ä¸­å†™ä¸šåŠ¡é€»è¾‘**

```typescript
// âŒ é”™è¯¯ï¼šåœ¨è§†å›¾ä¸­ç›´æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘
const Main = () => {
  const [data, setData] = useState();

  const handleSubmit = async () => {
    // ä¸šåŠ¡é€»è¾‘åº”è¯¥åœ¨ models ä¸­
    const result = await api.submit();
    setData(result);
  };

  return <form onSubmit={handleSubmit}>...</form>;
};
```

4. **models å¯¼å‡ºç»“æ„ä¸è§„èŒƒ**

```typescript
// âœ… æ­£ç¡®ï¼šå˜é‡æ”¾åœ¨ state ä¸­ï¼Œæ–¹æ³•æ”¾åœ¨å¤–å±‚
const usePageContainer = () => {
  const [loading, setLoading] = useState(false);
  const [user, setUser] = useState(null);

  const fetchUserData = async () => {
    /* ... */
  };

  return {
    state: { user, loading },
    fetchUserData,
  };
};

// âŒ é”™è¯¯ï¼šå˜é‡å’Œæ–¹æ³•æ··åœ¨ä¸€èµ·å¯¼å‡º
const usePageContainer = () => {
  const [loading, setLoading] = useState(false);
  const [user, setUser] = useState(null);

  const fetchUserData = async () => {
    /* ... */
  };

  // é”™è¯¯ï¼šæ²¡æœ‰æŒ‰è¦æ±‚ç»“æ„åŒ–å¯¼å‡ºï¼Œå˜é‡å’Œæ–¹æ³•æ··åœ¨ä¸€èµ·
  return {
    user,
    loading,
    fetchUserData,
  };
};
```

5. **ç›´æ¥åœ¨é¡µé¢å…¥å£å†™å¤æ‚é€»è¾‘**

```typescript
// âŒ é”™è¯¯ï¼šé¡µé¢å…¥å£åŒ…å«å¤æ‚é€»è¾‘
const HomePage = () => {
  const [state, setState] = useState();

  useEffect(() => {
    // å¤æ‚é€»è¾‘åº”è¯¥åœ¨ models ä¸­
    fetchComplexData();
  }, []);

  return <div>...</div>;
};
```
