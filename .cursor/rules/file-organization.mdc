---
alwaysApply: true
appliesTo:
  - "**/*.ts"
  - "**/*.tsx"
  - "**/*.js"
  - "**/*.jsx"
---

# æ–‡ä»¶ç»„ç»‡è§„èŒƒ

## è§„èŒƒè¯´æ˜

æœ¬è§„èŒƒæ—¨åœ¨å»ºç«‹ç»Ÿä¸€çš„æ–‡ä»¶ç»„ç»‡æ ‡å‡†ï¼Œæ¶µç›–æ–‡ä»¶å‘½åã€ç›®å½•ç»“æ„ã€å¯¼å‡ºæ–¹å¼ç­‰å¤šä¸ªæ–¹é¢ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ„å»ºæ€§èƒ½ã€‚è§„èŒƒåŸºäºä¸šç•Œæœ€ä½³å®è·µï¼Œç¡®ä¿æ–‡ä»¶èƒ½å¤Ÿæ¸…æ™°è¡¨è¾¾å…¶ä¸šåŠ¡èŒè´£å’ŒåŠŸèƒ½èŒƒå›´ã€‚

> ğŸ“‹ **é…åˆä½¿ç”¨**: æœ¬è§„èŒƒé€‚ç”¨äºæ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ç»„ç»‡ï¼Œä¸ã€Šé¡µé¢æ¶æ„è§„èŒƒã€‹å’Œã€Šä»£ç æ ‡è¯†ç¬¦å‘½åè§„èŒƒã€‹é…åˆä½¿ç”¨

## æ ¸å¿ƒåŸåˆ™

### ğŸ¯ è¯­ä¹‰ä¼˜å…ˆæ³•åˆ™

**"æ–‡ä»¶å‘½åå¿…é¡»åæ˜ å…¶å†…å®¹æœ¬è´¨ï¼Œè€Œéæœºæ¢°åŒ¹é…è§„åˆ™"**

#### æ ¸å¿ƒåˆ¤æ–­æ ‡å‡†

| å†…å®¹æœ¬è´¨     | å‘½åç­–ç•¥     | ç¤ºä¾‹                                     |
| ------------ | ------------ | ---------------------------------------- |
| **ç‹¬ç«‹å®ä½“** | ä½¿ç”¨å•æ•°å½¢å¼ | `user.ts`, `payment.ts`, `config.ts`     |
| **å®ä½“é›†åˆ** | ä½¿ç”¨å¤æ•°å½¢å¼ | `users.ts`, `arrays.ts`, `validators.ts` |
| **æŠ½è±¡æ¦‚å¿µ** | ä½¿ç”¨å•æ•°å½¢å¼ | `auth.ts`, `permission.ts`, `layout.ts`  |
| **åŠŸèƒ½æ¨¡å—** | ä½¿ç”¨ä¸šåŠ¡æœ¯è¯­ | `validation.ts`, `api.ts`, `business.ts` |

#### ğŸ¯ å†³ç­–å£è¯€

> ğŸ’¡ **"ç‹¬ç«‹å•æ•°èµ°ï¼Œé›†åˆå¤æ•°è¡Œï¼Œæ¦‚å¿µæ°¸å•æ•°ï¼Œä¸šåŠ¡è¯­ä¹‰æ˜"**

### ğŸ—ï¸ ç›®å½•-æ–‡ä»¶å±‚æ¬¡æ³•åˆ™

**"ç›®å½•æ˜¯å®¹å™¨ï¼Œæ–‡ä»¶æ˜¯å†…å®¹ï¼›ç›®å½•è¡¨èŒƒç•´ï¼Œæ–‡ä»¶è¡¨å®ä½“"**

- **ç›®å½•ï¼ˆå®¹å™¨ï¼‰**ï¼šå®šä¹‰ä¸šåŠ¡èŒƒç•´å’ŒåŠŸèƒ½åˆ†ç±»
- **æ–‡ä»¶ï¼ˆå†…å®¹ï¼‰**ï¼šå®ç°å…·ä½“çš„ä¸šåŠ¡å®ä½“æˆ–åŠŸèƒ½æ¨¡å—
- **å±‚æ¬¡æ¸…æ™°**ï¼šç›®å½•ç»“æ„åæ˜ ä¸šåŠ¡æ¶æ„ï¼Œæ–‡ä»¶å‘½ååæ˜ å…·ä½“èŒè´£

### ğŸ¯ é¢†åŸŸåˆ†ç»„ä¼˜äºå‘½åå‰ç¼€æ³•åˆ™

**"å½“åŒä¸€é¢†åŸŸå­˜åœ¨å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ç›®å½•åˆ†ç»„è€Œéæ–‡ä»¶åå‰ç¼€"**

#### æ ¸å¿ƒåŸåˆ™

å½“æŸä¸ªä¸šåŠ¡é¢†åŸŸä¸‹æœ‰ **2ä¸ªä»¥ä¸Šç›¸å…³æ–‡ä»¶** æ—¶ï¼Œåº”è¯¥åˆ›å»ºé¢†åŸŸç›®å½•è¿›è¡Œåˆ†ç»„ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å‘½åå‰ç¼€ã€‚

#### ğŸ¯ ç»„ç»‡å†³ç­–è§„åˆ™

| æ–‡ä»¶æ•°é‡              | ç»„ç»‡æ–¹å¼ | ç¤ºä¾‹                                  |
| --------------------- | -------- | ------------------------------------- |
| **å•ä¸ªé¢†åŸŸæ–‡ä»¶**      | ç›´æ¥å¹³é“º | `edit-button.ts`, `auth-service.ts`   |
| **2ä¸ªä»¥ä¸ŠåŒé¢†åŸŸæ–‡ä»¶** | é¢†åŸŸåˆ†ç»„ | `user/profile.ts`, `user/settings.ts` |
| **è·¨æ¨¡å—é€šç”¨æ–‡ä»¶**    | æå‡å±‚çº§ | `src/utils/format.ts`                 |

#### âœ… æ¨èï¼šé¢†åŸŸåˆ†ç»„æ¨¡å¼

```
src/
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ date/              # æ—¥æœŸå·¥å…·é¢†åŸŸ
â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â””â”€â”€ validate.ts
â”‚   â””â”€â”€ string/            # å­—ç¬¦ä¸²å·¥å…·é¢†åŸŸ
â”‚       â”œâ”€â”€ format.ts
â”‚       â””â”€â”€ transform.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ user/              # ç”¨æˆ·ç»„ä»¶é¢†åŸŸ
â”‚   â”‚   â”œâ”€â”€ avatar.tsx
â”‚   â”‚   â””â”€â”€ profile.tsx
â”‚   â””â”€â”€ order/             # è®¢å•ç»„ä»¶é¢†åŸŸ
â”‚       â””â”€â”€ summary.tsx
â””â”€â”€ constants/
    â”œâ”€â”€ api/               # APIå¸¸é‡é¢†åŸŸ
    â”‚   â””â”€â”€ endpoints.ts
    â””â”€â”€ user/              # ç”¨æˆ·å¸¸é‡é¢†åŸŸ
        â””â”€â”€ roles.ts
```

#### âŒ é¿å…ï¼šå‘½åå‰ç¼€æ¨¡å¼

```
src/
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ date-format.ts         # âŒ åº”è¯¥åˆ†ç»„
â”‚   â”œâ”€â”€ string-format.ts       # âŒ åº”è¯¥åˆ†ç»„
â”‚   â””â”€â”€ string-transform.ts    # âŒ åº”è¯¥åˆ†ç»„
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ user-avatar.tsx        # âŒ å‘½åå†—ä½™
â”‚   â”œâ”€â”€ user-profile.tsx       # âŒ å‘½åå†—ä½™
â”‚   â””â”€â”€ order-summary.tsx      # âŒ å‘½åå†—ä½™
â””â”€â”€ constants/
    â”œâ”€â”€ api-endpoints.ts       # âŒ åº”è¯¥åˆ†ç»„
    â””â”€â”€ user-roles.ts          # âŒ åº”è¯¥åˆ†ç»„
```

#### ğŸ† é¢†åŸŸåˆ†ç»„ä¼˜åŠ¿

1. **å‘½åç®€æ´**ï¼šå»é™¤å†—ä½™å‰ç¼€ï¼Œ`profile.ts` vs `user-profile.ts`
2. **é¢†åŸŸå†…èš**ï¼šç›¸å…³æ–‡ä»¶å½’ç±»ï¼Œä¸šåŠ¡é€»è¾‘æ¸…æ™°
3. **å¯¼å…¥æ¸…æ™°**ï¼šè·¯å¾„ä½“ç°é¢†åŸŸå…³ç³»
4. **ç»´æŠ¤å‹å¥½**ï¼šä¿®æ”¹æŸä¸ªé¢†åŸŸæ—¶æ–‡ä»¶é›†ä¸­

#### ğŸ“ å¯¼å…¥è·¯å¾„å¯¹æ¯”

```typescript
// âœ… é¢†åŸŸåˆ†ç»„ï¼šè·¯å¾„æ¸…æ™°ï¼Œè¯­ä¹‰æ˜ç¡®
import { formatDate } from "../utils/date/format";
import UserAvatar from "../components/user/avatar";

// âŒ å‘½åå‰ç¼€ï¼šè·¯å¾„å†—ä½™ï¼Œç¼ºä¹å±‚æ¬¡
import { formatDate } from "../utils/date-format";
import UserAvatar from "../components/user-avatar";
```

### ğŸ”€ è·¨é¢†åŸŸå‡½æ•°å†³ç­–è§„åˆ™

**"å½“å¤šä¸ªé¢†åŸŸå­˜åœ¨åŠŸèƒ½é‡å æ—¶ï¼Œä»¥ä¸»è¦èŒè´£å’Œä¸“ä¸šåŒ–ç¨‹åº¦ä¸ºå†³ç­–ä¾æ®"**

#### ğŸ¯ å†³ç­–åŸåˆ™

å½“é‡åˆ°åŠŸèƒ½é‡å çš„æƒ…å†µï¼ˆå¦‚æ ¼å¼åŒ–å‡½æ•°æ—¢å¯ä»¥æ”¾åœ¨æ ¼å¼åŒ–å·¥å…·é›†åˆä¸­ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨ç‰¹å®šé¢†åŸŸä¸­ï¼‰ï¼ŒæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§å†³ç­–ï¼š

| ä¼˜å…ˆçº§  | å†³ç­–ä¾æ®           | ç¤ºä¾‹è¯´æ˜                                          |
| ------- | ------------------ | ------------------------------------------------- |
| ğŸ”´ æœ€é«˜ | **é¢†åŸŸä¸“ä¸šåŒ–ç¨‹åº¦** | æ—¥æœŸæ ¼å¼åŒ–æ”¾åœ¨ `dates.ts`ï¼Œå› ä¸ºå…¶é«˜åº¦ä¸“ä¸šåŒ–äºæ—¥æœŸ |
| ğŸŸ  æ¬¡é«˜ | **ä¸»è¦èŒè´£å½’å±**   | é€šç”¨æ ¼å¼åŒ–æ”¾åœ¨ `formatters.ts`ï¼ŒèŒè´£æ˜¯æ ¼å¼åŒ–      |
| ğŸŸ¡ ä¸­ç­‰ | **ä½¿ç”¨é¢‘ç‡**       | æ›´å¸¸ç”¨çš„åŠŸèƒ½ä¼˜å…ˆè€ƒè™‘å…¶ä¸»è¦ä½¿ç”¨åœºæ™¯                |
| ğŸŸ¢ è¾ƒä½ | **å›¢é˜Ÿçº¦å®š**       | å›¢é˜Ÿç»Ÿä¸€çº¦å®šæŸç±»å‡½æ•°çš„å½’å±                        |

#### âœ… å†³ç­–ç¤ºä¾‹ï¼šæ—¥æœŸæ ¼å¼åŒ– vs é€šç”¨æ ¼å¼åŒ–

```typescript
// âœ… æ­£ç¡®ï¼šæ—¥æœŸä¸“ä¸šåŒ–å‡½æ•°æ”¾åœ¨ dates.ts
// utils/dates.ts
export const formatDate = (date: Date, locale = "zh-CN"): string => {
  return date.toLocaleDateString(locale);
};

export const formatRelativeTime = (date: Date): string => {
  // æ—¥æœŸç›¸å¯¹æ—¶é—´æ ¼å¼åŒ– - é«˜åº¦ä¸“ä¸šåŒ–äºæ—¥æœŸé¢†åŸŸ
  const now = new Date();
  const diffInMs = now.getTime() - date.getTime();
  const diffInMinutes = Math.floor(diffInMs / (1000 * 60));

  if (diffInMinutes < 1) return "åˆšåˆš";
  if (diffInMinutes < 60) return `${diffInMinutes}åˆ†é’Ÿå‰`;
  // ... æ›´å¤šæ—¥æœŸç‰¹å®šé€»è¾‘
};

// âœ… æ­£ç¡®ï¼šé€šç”¨æ ¼å¼åŒ–å‡½æ•°æ”¾åœ¨ formatters.ts
// utils/formatters.ts
export const formatCurrency = (amount: number, currency = "CNY"): string => {
  return new Intl.NumberFormat("zh-CN", {
    style: "currency",
    currency,
  }).format(amount);
};

export const formatPhoneNumber = (phone: string): string => {
  // ç”µè¯å·ç æ ¼å¼åŒ– - é€šç”¨æ–‡æœ¬æ ¼å¼åŒ–
  const cleaned = phone.replace(/\D/g, "");
  const match = cleaned.match(/^(\d{3})(\d{4})(\d{4})$/);
  return match ? `${match[1]}-${match[2]}-${match[3]}` : phone;
};
```

#### ğŸ¯ è·¨é¢†åŸŸå‡½æ•°å†³ç­–æµç¨‹

```mermaid
graph TD
    A["ğŸ¤” å‡½æ•°åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ"] --> B{"æ˜¯å¦é«˜åº¦ä¸“ä¸šåŒ–äºæŸä¸ªé¢†åŸŸï¼Ÿ"}

    B -->|æ˜¯| C["âœ… æ”¾åœ¨ä¸“ä¸šé¢†åŸŸæ–‡ä»¶"]
    B -->|å¦| D{"ä¸»è¦èŒè´£æ˜¯ä»€ä¹ˆï¼Ÿ"}

    D --> E["æ ¼å¼åŒ–"] --> F["formatters.ts"]
    D --> G["éªŒè¯"] --> H["validators.ts"]
    D --> I["è½¬æ¢"] --> J["converters.ts"]
    D --> K["è®¡ç®—"] --> L["calculators.ts"]

    C --> M["ğŸ† å†³ç­–å®Œæˆ"]
    F --> M
    H --> M
    J --> M
    L --> M

    style A fill:#e1f5fe
    style C fill:#e8f5e8
    style M fill:#fce4ec
    style F fill:#fff3e0
    style H fill:#fff3e0
    style J fill:#fff3e0
    style L fill:#fff3e0
```

#### ğŸ“‹ å¸¸è§é‡å åœºæ™¯å†³ç­–è¡¨

| åŠŸèƒ½ç±»å‹   | ä¸“ä¸šåŒ–åœºæ™¯                 | é€šç”¨åœºæ™¯                      | å‡½æ•°å½’å±å†³ç­–                                           |
| ---------- | -------------------------- | ----------------------------- | ------------------------------------------------------ |
| **æ ¼å¼åŒ–** | `formatDate` (æ—¥æœŸä¸“ç”¨)    | `formatCurrency` (é€šç”¨æ ¼å¼åŒ–) | ä¸“ä¸šåŒ–å‡½æ•° â†’ `dates.ts`<br/>é€šç”¨å‡½æ•° â†’ `formatters.ts` |
| **éªŒè¯**   | `isValidEmail` (é‚®ç®±ä¸“ç”¨)  | `isEmpty` (é€šç”¨éªŒè¯)          | ä¸“ä¸šåŒ–å‡½æ•° â†’ `email.ts`<br/>é€šç”¨å‡½æ•° â†’ `validators.ts` |
| **è½¬æ¢**   | `parseJsonDate` (æ—¥æœŸä¸“ç”¨) | `toSlug` (é€šç”¨è½¬æ¢)           | ä¸“ä¸šåŒ–å‡½æ•° â†’ `dates.ts`<br/>é€šç”¨å‡½æ•° â†’ `converters.ts` |
| **è®¡ç®—**   | `calculateAge` (æ—¥æœŸè®¡ç®—)  | `sum` (æ•°å­¦è®¡ç®—)              | ä¸“ä¸šåŒ–å‡½æ•° â†’ `dates.ts`<br/>é€šç”¨å‡½æ•° â†’ `math.ts`       |

#### âŒ é”™è¯¯çš„å†³ç­–ç¤ºä¾‹

```typescript
// âŒ é”™è¯¯ï¼šå°†æ—¥æœŸä¸“ç”¨å‡½æ•°æ”¾åœ¨é€šç”¨æ ¼å¼åŒ–ä¸­
// utils/formatters.ts
export const formatDate = (date: Date): string => {
  return date.toLocaleDateString("zh-CN");
};

export const formatRelativeTime = (date: Date): string => {
  // è¿™ä¸ªå‡½æ•°é«˜åº¦ä¸“ä¸šåŒ–äºæ—¥æœŸï¼Œåº”è¯¥åœ¨ dates.ts ä¸­
};

// âŒ é”™è¯¯ï¼šå°†é€šç”¨æ ¼å¼åŒ–æ”¾åœ¨æ—¥æœŸæ–‡ä»¶ä¸­
// utils/dates.ts
export const formatCurrency = (amount: number): string => {
  // è¿™æ˜¯é€šç”¨æ ¼å¼åŒ–ï¼Œä¸å±äºæ—¥æœŸé¢†åŸŸ
  return new Intl.NumberFormat("zh-CN").format(amount);
};
```

#### ğŸ† æœ€ä½³å®è·µæ€»ç»“

1. **ä¸“ä¸šåŒ–ä¼˜å…ˆ**ï¼šä¼˜å…ˆè€ƒè™‘å‡½æ•°çš„ä¸“ä¸šåŒ–ç¨‹åº¦ï¼Œä¸“ä¸šåŒ–å‡½æ•°å½’å±ä¸“ä¸šé¢†åŸŸ
2. **èŒè´£æ¸…æ™°**ï¼šæ¯ä¸ªæ–‡ä»¶çš„èŒè´£è¦æ˜ç¡®ï¼Œé¿å…èŒè´£æ¨¡ç³Š
3. **å›¢é˜Ÿçº¦å®š**ï¼šå»ºç«‹å›¢é˜Ÿå†…ç»Ÿä¸€çš„å½’å±çº¦å®šï¼Œä¿æŒä¸€è‡´æ€§

## æ–‡ä»¶å‘½åè§„èŒƒ

### ğŸ“Š å¤æ•°/å•æ•°å‘½åè§„èŒƒ

æ ¹æ®æ–‡ä»¶å’Œç›®å½•çš„æ€§è´¨ï¼Œå†³å®šä½¿ç”¨å¤æ•°è¿˜æ˜¯å•æ•°å½¢å¼çš„å‘½åã€‚

#### ğŸ—ï¸ ç›®å½•-æ–‡ä»¶å…³ç³»åŸç†

**ç›®å½•å‘½åä½“ç°å®¹å™¨å±æ€§ï¼Œæ–‡ä»¶å‘½åä½“ç°å†…å®¹æœ¬è´¨**

| å±‚çº§ç±»å‹ | å‘½åé€»è¾‘                | ç¤ºä¾‹è¯´æ˜                              |
| -------- | ----------------------- | ------------------------------------- |
| **ç›®å½•** | æŒ‰å®¹å™¨æ€§è´¨å†³å®šå¤æ•°/å•æ•° | `components/` (å®¹å™¨è£…å¤šä¸ªç»„ä»¶) â†’ å¤æ•° |
|          |                         | `auth/` (æŠ½è±¡æ¦‚å¿µé¢†åŸŸ) â†’ å•æ•°         |
| **æ–‡ä»¶** | æŒ‰å†…å®¹æœ¬è´¨å†³å®šå¤æ•°/å•æ•° | `button.tsx` (å•ä¸€ç»„ä»¶) â†’ å•æ•°        |
|          |                         | `arrays.ts` (å·¥å…·å‡½æ•°é›†åˆ) â†’ å¤æ•°     |

#### ğŸ¯ å†³ç­–æµç¨‹

```mermaid
graph TD
    A[æ–‡ä»¶è¿˜æ˜¯ç›®å½•ï¼Ÿ]
    A --> B[ç›®å½•]
    A --> C[æ–‡ä»¶]

    B --> D{æ˜¯å¦åŒ…å«å¤šä¸ªåŒç±»å®ä½“ï¼Ÿ}
    D -->|æ˜¯| E[ç”¨å¤æ•°ï¼šutils/ components/]
    D -->|å¦| F[ç”¨å•æ•°ï¼šauth/ layout/]

    C --> G{æ˜¯å¦è¡¨ç¤ºç‹¬ç«‹å®ä½“ï¼Ÿ}
    G -->|æ˜¯| H[ç”¨å•æ•°ï¼šuser.ts button.tsx]
    G -->|å¦| I{æ˜¯å¦åŒ…å«å·¥å…·å‡½æ•°é›†åˆï¼Ÿ}
    I -->|æ˜¯| J[ç”¨å¤æ•°ï¼šarrays.ts dates.ts]
    I -->|å¦| K[ç”¨å•æ•°ï¼šlogger.ts config.ts]
```

#### ğŸ“ ç›®å½•å‘½åè§„åˆ™

| ç±»å‹           | ä½¿ç”¨å¤æ•°                                                                              | ä½¿ç”¨å•æ•°                                            |
| -------------- | ------------------------------------------------------------------------------------- | --------------------------------------------------- |
| **é›†åˆå‹ç›®å½•** | `components/`<br/>`utils/`<br/>`constants/`<br/>`types/`<br/>`services/`<br/>`hooks/` |                                                     |
| **åŠŸèƒ½å‹ç›®å½•** |                                                                                       | `auth/`<br/>`layout/`<br/>`admin/`<br/>`dashboard/` |
| **ä¸šåŠ¡å‹ç›®å½•** | `pages/`<br/>`views/`<br/>`models/`                                                   | `home/`<br/>`user-profile/`<br/>`order-detail/`     |

#### ğŸ“„ æ–‡ä»¶å‘½åè§„åˆ™

| ç±»å‹              | ä½¿ç”¨å¤æ•°                                       | ä½¿ç”¨å•æ•°                                    |
| ----------------- | ---------------------------------------------- | ------------------------------------------- |
| **ç‹¬ç«‹å®ä½“æ–‡ä»¶**  |                                                | `user.ts`<br/>`button.tsx`<br/>`payment.ts` |
| **å·¥å…·å‡½æ•°é›†åˆ**  | `arrays.ts`<br/>`dates.ts`<br/>`validators.ts` |                                             |
| **é…ç½®/æœåŠ¡æ–‡ä»¶** |                                                | `config.ts`<br/>`logger.ts`<br/>`router.ts` |

#### âœ… æ¨èç¤ºä¾‹

```
src/
â”œâ”€â”€ components/              # å¤æ•°ï¼šåŒ…å«å¤šä¸ªç»„ä»¶
â”‚   â”œâ”€â”€ button/             # å•æ•°ï¼šç‹¬ç«‹ç»„ä»¶
â”‚   â””â”€â”€ card/               # å•æ•°ï¼šç‹¬ç«‹ç»„ä»¶
â”œâ”€â”€ constants/              # å¤æ•°ï¼šåŒ…å«å¤šä¸ªå¸¸é‡æ–‡ä»¶
â”‚   â”œâ”€â”€ api.ts              # å•æ•°ï¼šAPIç›¸å…³å¸¸é‡
â”‚   â”œâ”€â”€ user.ts             # å•æ•°ï¼šç”¨æˆ·ç›¸å…³å¸¸é‡
â”‚   â”œâ”€â”€ validators.ts       # å¤æ•°ï¼šéªŒè¯å™¨é›†åˆå¸¸é‡
â”‚   â””â”€â”€ formatters.ts       # å¤æ•°ï¼šæ ¼å¼åŒ–å™¨é›†åˆå¸¸é‡
â”œâ”€â”€ utils/                  # å¤æ•°ï¼šåŒ…å«å¤šä¸ªå·¥å…·æ–‡ä»¶
â”‚   â”œâ”€â”€ arrays.ts           # å¤æ•°ï¼šå·¥å…·å‡½æ•°é›†åˆ
â”‚   â”œâ”€â”€ dates.ts            # å¤æ•°ï¼šå·¥å…·å‡½æ•°é›†åˆ
â”‚   â””â”€â”€ logger.ts           # å•æ•°ï¼šå•ä¸€åŠŸèƒ½
â”œâ”€â”€ auth/                   # å•æ•°ï¼šåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ login.ts            # å•æ•°ï¼šç‹¬ç«‹åŠŸèƒ½
â”‚   â””â”€â”€ permission.ts       # å•æ•°ï¼šç‹¬ç«‹åŠŸèƒ½
â”œâ”€â”€ pages/                  # å¤æ•°ï¼šåŒ…å«å¤šä¸ªé¡µé¢
â”‚   â”œâ”€â”€ home/               # å•æ•°ï¼šå…·ä½“é¡µé¢
â”‚   â””â”€â”€ user-profile/       # å•æ•°ï¼šå…·ä½“é¡µé¢
â””â”€â”€ types/                  # å¤æ•°ï¼šåŒ…å«å¤šä¸ªç±»å‹æ–‡ä»¶
    â”œâ”€â”€ user.ts             # å•æ•°ï¼šç‹¬ç«‹å®ä½“ç±»å‹
    â””â”€â”€ api.ts              # å•æ•°ï¼šç‹¬ç«‹æ¨¡å—ç±»å‹
```

#### âŒ é”™è¯¯ç¤ºä¾‹

```
src/
â”œâ”€â”€ component/              # âŒ åº”è¯¥ç”¨å¤æ•° components/
â”œâ”€â”€ constant/               # âŒ åº”è¯¥ç”¨å¤æ•° constants/
â”‚   â”œâ”€â”€ index.ts            # âŒ ç¦æ­¢ä½¿ç”¨ index.ts
â”‚   â”œâ”€â”€ common.ts           # âŒ åç§°è¿‡äºæ¨¡ç³Š
â”‚   â””â”€â”€ config.ts           # âŒ åº”è¯¥å…·ä½“åŒ–ä¸ºä¸šåŠ¡é¢†åŸŸ
â”œâ”€â”€ util/                   # âŒ åº”è¯¥ç”¨å¤æ•° utils/
â”œâ”€â”€ array-util.ts           # âŒ å·¥å…·é›†åˆåº”è¯¥ç”¨å¤æ•° arrays.ts
â”œâ”€â”€ auths/                  # âŒ åŠŸèƒ½æ¨¡å—åº”è¯¥ç”¨å•æ•° auth/
â”œâ”€â”€ page/                   # âŒ é¡µé¢å®¹å™¨åº”è¯¥ç”¨å¤æ•° pages/
â””â”€â”€ users.ts                # âŒ ç‹¬ç«‹å®ä½“åº”è¯¥ç”¨å•æ•° user.ts
```

#### ğŸ¯ å…³é”®åˆ¤æ–­è¦ç‚¹

1. **ç›®å½•ååˆ¤æ–­**ï¼š
   - åŒ…å«å¤šä¸ªåŒç±»æ–‡ä»¶ â†’ å¤æ•°ï¼ˆ`components/`, `utils/`, `constants/`ï¼‰
   - è¡¨ç¤ºå•ä¸€åŠŸèƒ½æ¨¡å— â†’ å•æ•°ï¼ˆ`auth/`, `layout/`ï¼‰

2. **æ–‡ä»¶ååˆ¤æ–­**ï¼š
   - ç‹¬ç«‹å®ä½“æˆ–æ¨¡å— â†’ å•æ•°ï¼ˆ`user.ts`, `api.ts`, `payment.ts`ï¼‰
   - å·¥å…·å‡½æ•°é›†åˆ â†’ å¤æ•°ï¼ˆ`arrays.ts`, `validators.ts`ï¼‰

3. **ä¸šåŠ¡è¯­ä¹‰ä¼˜å…ˆ**ï¼š
   - éµå¾ªä¸šåŠ¡é¢†åŸŸçš„è‡ªç„¶è¯­è¨€ä¹ æƒ¯
   - ä¿æŒå›¢é˜Ÿå†…éƒ¨çš„ä¸€è‡´æ€§

### ğŸ“ ç›®å½•åˆ†ç±»è§„åˆ™

| ç›®å½•ç±»å‹        | index æ–‡ä»¶è§„åˆ™ | å‘½åçº¦å®š                          | è¯´æ˜               |
| --------------- | -------------- | --------------------------------- | ------------------ |
| **views/**      | âœ… å…è®¸        | `index.tsx` + `index.module.scss` | è§†å›¾ç»„ä»¶çš„å…¥å£æ–‡ä»¶ |
| **components/** | âœ… å…è®¸        | `index.tsx` + `index.module.scss` | UI ç»„ä»¶çš„å…¥å£æ–‡ä»¶  |
| **constants/**  | âŒ ç¦æ­¢        | `[business-domain].ts`            | ä¸šåŠ¡å¸¸é‡æ–‡ä»¶       |
| **types/**      | âŒ ç¦æ­¢        | `[business-domain].ts`            | ä¸šåŠ¡ç±»å‹æ–‡ä»¶       |
| **utils/**      | âŒ ç¦æ­¢        | `[function-domain].ts`            | åŠŸèƒ½å·¥å…·æ–‡ä»¶       |
| **models/**     | âŒ ç¦æ­¢        | `[business-entity].ts`            | ä¸šåŠ¡é€»è¾‘æ–‡ä»¶       |
| **services/**   | âŒ ç¦æ­¢        | `[service-domain].ts`             | æœåŠ¡æ¥å£æ–‡ä»¶       |
| **hooks/**      | âŒ ç¦æ­¢        | `[hook-purpose].ts`               | è‡ªå®šä¹‰ hooks       |

## æ–‡ä»¶å¯¼å‡ºè§„èŒƒ

### ğŸš€ å¯¼å‡ºæ–¹å¼è§„èŒƒ

ä¸ºäº†ä¼˜åŒ–æ„å»ºä½“ç§¯å’Œæ”¯æŒ Tree Shakingï¼Œå¯¹ä¸åŒç±»å‹æ–‡ä»¶çš„å¯¼å‡ºæ–¹å¼è¿›è¡Œè§„èŒƒã€‚

#### ğŸ¯ å¯¼å‡ºæ–¹å¼å†³ç­–æµç¨‹

```mermaid
graph LR
    A["ğŸ“ æ–‡ä»¶ç±»å‹"] --> B["ğŸ¨ ç»„ä»¶æ–‡ä»¶<br/>(components/ views/)"]
    A --> C["âš™ï¸ ä¸šåŠ¡é€»è¾‘æ–‡ä»¶<br/>(constants/ utils/ types/ models/)"]

    B --> B1["âœ… export default<br/>ç¬¦åˆ React ä¹ æƒ¯"]
    B1 --> B2["import Button from './button'<br/>import Main from './main'"]

    C --> C1["âœ… export å‘½åå¯¼å‡º<br/>æ”¯æŒ Tree Shaking"]
    C1 --> C2["import { API_ENDPOINTS, HttpStatus } from './api'<br/>import { formatCurrency } from './utils'"]

    B2 --> D["ğŸ¯ æœ€ç»ˆæ•ˆæœ"]
    C2 --> D
    D --> E["ğŸ“¦ æ„å»ºä½“ç§¯ä¼˜åŒ–<br/>ğŸŒ³ Tree Shaking å‹å¥½<br/>ğŸ“š ä»£ç å¯ç»´æŠ¤æ€§"]

    style A fill:#e1f5fe
    style B fill:#e8f5e8
    style C fill:#fff3e0
    style B1 fill:#c8e6c9
    style C1 fill:#c8e6c9
    style D fill:#f3e5f5
    style E fill:#fce4ec
```

#### âœ… æ¨èåšæ³•

**ç»„ä»¶æ–‡ä»¶ï¼ˆå…è®¸ default å¯¼å‡ºï¼‰ï¼š**

```typescript
// âœ… components/button/index.tsx
const Button = ({ children, onClick }: ButtonProps) => {
  return <button onClick={onClick}>{children}</button>;
};

export default Button;
```

```typescript
// âœ… views/main/index.tsx
const Main = () => {
  return <div>ä¸»é¡µé¢å†…å®¹</div>;
};

export default Main;
```

**ä¸šåŠ¡é€»è¾‘æ–‡ä»¶ï¼ˆåªèƒ½å‘½åå¯¼å‡ºï¼‰ï¼š**

```typescript
// âœ… constants/api.ts
// é…ç½®å¯¹è±¡å¸¸é‡ï¼šå¸¸é‡å UPPER_SNAKE_CASEï¼Œå±æ€§ camelCase
export const API_ENDPOINTS = {
  userProfile: "/api/user/profile",
  uploadAvatar: "/api/user/avatar",
  userSettings: "/api/user/settings",
};

// âœ… æ¨¡æ‹Ÿæšä¸¾ï¼šå¸¸é‡åå’Œé”®åéƒ½ç”¨ PascalCase + as const
export const HttpStatus = {
  Ok: 200,
  Created: 201,
  BadRequest: 400,
  NotFound: 404,
  InternalServerError: 500,
} as const;

export type HttpStatus = (typeof HttpStatus)[keyof typeof HttpStatus];
```

```typescript
// âœ… utils/format.ts
export const formatCurrency = (amount: number): string => {
  return new Intl.NumberFormat("zh-CN", {
    style: "currency",
    currency: "CNY",
  }).format(amount);
};

export const formatDate = (date: Date): string => {
  return date.toLocaleDateString("zh-CN");
};
```

```typescript
// âœ… types/user.ts
export interface UserProfile {
  id: string;
  displayName: string;
  avatar: string;
}

export interface UserPreferences {
  language: string;
  timezone: string;
  notifications: boolean;
}
```

#### âŒ é¿å…åšæ³•

**ä¸šåŠ¡é€»è¾‘æ–‡ä»¶ä¸è¦ç”¨ default å¯¼å‡ºï¼š**

```typescript
// âŒ constants/api.ts - é”™è¯¯ï¼šä½¿ç”¨äº† default å¯¼å‡º
const API_ENDPOINTS = {
  userProfile: "/api/user/profile",
  uploadAvatar: "/api/user/avatar",
};

export default API_ENDPOINTS; // âŒ åº”è¯¥ç”¨å‘½åå¯¼å‡º
```

```typescript
// âŒ utils/format.ts - é”™è¯¯ï¼šæ··åˆå¯¼å‡º
export const formatCurrency = (amount: number) => {
  /* ... */
};

const formatUtils = {
  formatCurrency,
  formatDate: (date: Date) => {
    /* ... */
  },
};

export default formatUtils; // âŒ åº”è¯¥å•ç‹¬å¯¼å‡ºæ¯ä¸ªå‡½æ•°
```

```typescript
// âŒ types/user.ts - é”™è¯¯ï¼šç±»å‹ç”¨ default å¯¼å‡º
interface UserProfile {
  id: string;
  name: string;
}

export default UserProfile; // âŒ ç±»å‹åº”è¯¥ç”¨å‘½åå¯¼å‡º
```

#### ğŸ¯ ä¼˜åŒ–æ•ˆæœ

**Tree Shaking ä¼˜åŒ–å¯¹æ¯”ï¼š**

```typescript
// âœ… å‘½åå¯¼å‡º - æ”¯æŒ Tree Shaking
// utils/format.ts
export const formatCurrency = () => {
  /* ... */
};
export const formatDate = () => {
  /* ... */
};

// utils/validation.ts
export const validateEmail = () => {
  /* ... */
};

// ä½¿ç”¨æ—¶ï¼šåªæ‰“åŒ…å®é™…ä½¿ç”¨çš„å‡½æ•°
import { formatCurrency } from "./utils/format";
formatCurrency(100);

// âŒ default å¯¼å‡º - æ— æ³• Tree Shaking
// utils/index.ts
export default {
  formatCurrency,
  formatDate,
  validateEmail,
  // ... 50+ ä¸ªå·¥å…·å‡½æ•°
};

// ä½¿ç”¨æ—¶ï¼šå³ä½¿åªç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿä¼šæ‰“åŒ…æ‰€æœ‰å‡½æ•°
import utils from "./utils";
utils.formatCurrency(100);
```

#### ğŸ”§ å¯¼å…¥è¯­æ³•å¯¹æ¯”

```typescript
// âœ… ä¸šåŠ¡é€»è¾‘å¯¼å…¥ï¼ˆå‘½åå¯¼å‡ºï¼‰ - æ¨èä¼˜å…ˆä½¿ç”¨
import { API_ENDPOINTS, HttpStatus } from "@/constants/api";
import { formatCurrency, formatDate } from "@/utils/format";
import { UserProfile, UserPreferences } from "@/types/user";

// âœ… ç»„ä»¶å¯¼å…¥ï¼ˆdefault å¯¼å‡ºï¼‰ - ç»„ä»¶ä¸“ç”¨
import Button from "@/components/button";
import Main from "@/views/main";
```

#### ğŸ“Š è§„èŒƒæ€»ç»“

1. **ä¸šåŠ¡é€»è¾‘å¼ºåˆ¶å‘½åå¯¼å‡º**ï¼šä¼˜åŒ– Tree Shaking æ•ˆæœï¼Œæ”¯æŒæŒ‰éœ€å¯¼å…¥
2. **ç»„ä»¶ä¼˜å…ˆä½¿ç”¨ default å¯¼å‡º**ï¼šç¬¦åˆ React ç”Ÿæ€ä¹ æƒ¯
3. **é¿å…æ··åˆå¯¼å‡º**ï¼šä¿æŒå¯¼å‡ºæ–¹å¼çš„ä¸€è‡´æ€§
4. **Tree Shaking å‹å¥½**ï¼šä¼˜å…ˆä½¿ç”¨å‘½åå¯¼å‡ºå‡å°‘æœ€ç»ˆæ„å»ºä½“ç§¯

## è¯¦ç»†ç›®å½•è§„èŒƒ

### ğŸ“ constants/ ç›®å½•

#### ğŸ¯ Constants å‘½åå†³ç­–æµç¨‹

```mermaid
graph TD
    A["éœ€è¦å®šä¹‰å¸¸é‡"] --> B{"è¿™ä¸ªå¸¸é‡å±äºå“ªä¸ªä¸šåŠ¡é¢†åŸŸï¼Ÿ"}

    B --> C["è¡¨å•éªŒè¯"] --> C1["validation.ts"]
    B --> D["APIæ¥å£"] --> D1["api.ts"]
    B --> E["æ”¯ä»˜ç›¸å…³"] --> E1["payment.ts"]
    B --> F["ç”¨æˆ·ç®¡ç†"] --> F1["user.ts"]
    B --> G["ä¸šåŠ¡æµç¨‹"] --> G1["business.ts"]
    B --> H["æƒé™æ§åˆ¶"] --> H1["permission.ts"]
    B --> I["å…¶ä»–å…·ä½“é¢†åŸŸ"] --> I1["ä½¿ç”¨å…·ä½“ä¸šåŠ¡æœ¯è¯­<br/>å¦‚: workflow.ts, review.ts"]

    C1 --> J["âœ… æ–‡ä»¶åè§„åˆ™"]
    D1 --> J
    E1 --> J
    F1 --> J
    G1 --> J
    H1 --> J
    I1 --> J

    J --> K["â€¢ ä½¿ç”¨å•æ•°å½¢å¼<br/>â€¢ ä¸šåŠ¡è¯­ä¹‰æ˜ç¡®<br/>â€¢ é¿å…æ¨¡ç³Šæœ¯è¯­<br/>â€¢ ç¦ç”¨ index.ts"]

    style A fill:#e1f5fe
    style B fill:#fff3e0
    style J fill:#f3e5f5
    style K fill:#c8e6c9
```

#### ğŸ“‹ æ ¸å¿ƒå‘½åè§„åˆ™

1. **æŒ‰åŠŸèƒ½æ€§è´¨å‘½å** - ç‹¬ç«‹ä¸šåŠ¡é¢†åŸŸç”¨å•æ•°å½¢å¼ï¼Œå·¥å…·å‡½æ•°é›†åˆç”¨å¤æ•°å½¢å¼
2. **ä¸šåŠ¡è¯­ä¹‰ä¼˜å…ˆ** - ç”¨å…·ä½“çš„ä¸šåŠ¡é¢†åŸŸæœ¯è¯­å‘½å
3. **é¿å…æ³›åŒ–å‘½å** - ä¸ä½¿ç”¨ `rules`, `config`, `common` ç­‰æ¨¡ç³Šè¯æ±‡
4. **ç¦ç”¨ index.ts** - å¸¸é‡æ–‡ä»¶ä¸å…è®¸ä½¿ç”¨ index æ–‡ä»¶

#### âœ… æ¨èå‘½å

```
src/constants/
â”œâ”€â”€ api.ts              # API ç›¸å…³å¸¸é‡
â”œâ”€â”€ user.ts             # ç”¨æˆ·ç›¸å…³å¸¸é‡
â”œâ”€â”€ validators.ts       # éªŒè¯å™¨é›†åˆå¸¸é‡ï¼ˆå¤æ•°ï¼šå·¥å…·å‡½æ•°é›†åˆï¼‰
â””â”€â”€ formatters.ts       # æ ¼å¼åŒ–å™¨é›†åˆå¸¸é‡ï¼ˆå¤æ•°ï¼šå·¥å…·å‡½æ•°é›†åˆï¼‰

pages/user-profile/constants/
â”œâ”€â”€ profile-form.ts     # ç”¨æˆ·èµ„æ–™è¡¨å•å¸¸é‡
â”œâ”€â”€ avatar-upload.ts    # å¤´åƒä¸Šä¼ å¸¸é‡
â””â”€â”€ privacy-settings.ts # éšç§è®¾ç½®å¸¸é‡
```

#### âŒ é¿å…å‘½å

```
src/constants/
â”œâ”€â”€ index.ts           # âŒ æ¨¡ç³Šï¼Œæ— æ³•è¡¨è¾¾ä¸šåŠ¡æ„å›¾
â”œâ”€â”€ enums.ts           # âŒ æŠ€æœ¯æœ¯è¯­ï¼Œç¼ºä¹ä¸šåŠ¡è¯­ä¹‰
â”œâ”€â”€ common.ts          # âŒ è¿‡äºå®½æ³›
â”œâ”€â”€ config.ts          # âŒ æ¨¡ç³Šï¼Œåº”è¯¥å…·ä½“åŒ–
â”œâ”€â”€ rules.ts           # âŒ æ³›åŒ–æœ¯è¯­ï¼Œç¼ºä¹ä¸šåŠ¡è¯­ä¹‰
â”œâ”€â”€ form-rules.ts      # âŒ åº”è¯¥æ›´å…·ä½“ï¼švalidation.ts
â””â”€â”€ business-rules.ts  # âŒ åº”è¯¥æ›´å…·ä½“ï¼šbusiness.ts
```

#### ğŸ¯ å•æ•°/å¤æ•°å‘½åè¯´æ˜

**å…³é”®åŸåˆ™ï¼šconstants ç›®å½•ä¸‹æ–‡ä»¶æŒ‰åŠŸèƒ½æ€§è´¨é€‰æ‹©å•æ•°æˆ–å¤æ•°å½¢å¼**

| é”™è¯¯å‘½å            | æ­£ç¡®å‘½å        | è¯´æ˜                       |
| ------------------- | --------------- | -------------------------- |
| `rules.ts`          | `validation.ts` | ç”¨å…·ä½“ä¸šåŠ¡æœ¯è¯­æ›¿ä»£æ³›åŒ–è¯æ±‡ |
| `form-rules.ts`     | `validation.ts` | è¡¨å•éªŒè¯è§„åˆ™ç”¨ validation  |
| `business-rules.ts` | `business.ts`   | ä¸šåŠ¡è§„åˆ™ç›´æ¥ç”¨ business    |
| `api-rules.ts`      | `api.ts`        | API ç›¸å…³å¸¸é‡ç›´æ¥ç”¨ api     |
| `user-rules.ts`     | `user.ts`       | ç”¨æˆ·ç›¸å…³å¸¸é‡ç›´æ¥ç”¨ user    |
| `validator.ts`      | `validators.ts` | éªŒè¯å™¨é›†åˆåº”ç”¨å¤æ•°å½¢å¼     |
| `formatter.ts`      | `formatters.ts` | æ ¼å¼åŒ–å™¨é›†åˆåº”ç”¨å¤æ•°å½¢å¼   |

#### ç¤ºä¾‹å¯¹æ¯”

```typescript
// âœ… æ­£ç¡®ï¼šä¸šåŠ¡æ˜ç¡®çš„å•æ•°æ–‡ä»¶å
// constants/validation.ts - è¡¨å•éªŒè¯ç›¸å…³å¸¸é‡
export const FORM_VALIDATION = {
  usernameMaxLength: 50,
  passwordMinLength: 8,
  emailPattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
};

// constants/business.ts - ä¸šåŠ¡æµç¨‹ç›¸å…³å¸¸é‡
export const BUSINESS_CONSTRAINTS = {
  minUserAge: 18,
  maxOrderItems: 100,
  defaultCurrency: "CNY",
};

// constants/api.ts - APIæ¥å£ç›¸å…³å¸¸é‡
export const API_CONFIG = {
  timeoutMs: 5000,
  maxRetryAttempts: 3,
  baseUrl: "/api/v1",
};
```

### ğŸ“ types/ ç›®å½•

#### âœ… æ¨èå‘½å

```
src/types/
â”œâ”€â”€ api.ts              # API å“åº”ç±»å‹
â”œâ”€â”€ form.ts             # è¡¨å•æ•°æ®ç±»å‹
â”œâ”€â”€ user.ts             # ç”¨æˆ·ç›¸å…³ç±»å‹
â””â”€â”€ payment.ts          # æ”¯ä»˜ç›¸å…³ç±»å‹

pages/order-management/types/
â”œâ”€â”€ order.ts            # è®¢å•ç±»å‹
â”œâ”€â”€ shipping.ts         # é…é€ç±»å‹
â””â”€â”€ invoice.ts          # å‘ç¥¨ç±»å‹
```

#### âŒ é¿å…å‘½å

```
src/types/
â”œâ”€â”€ index.ts           # âŒ æ— æ³•è¡¨è¾¾ç±»å‹ç”¨é€”
â”œâ”€â”€ interfaces.ts      # âŒ æŠ€æœ¯æœ¯è¯­ï¼Œç¼ºä¹ä¸šåŠ¡å«ä¹‰
â”œâ”€â”€ common.ts          # âŒ è¿‡äºå®½æ³›
â””â”€â”€ global.ts          # âŒ èŒƒå›´æ¨¡ç³Š
```

#### ç¤ºä¾‹å¯¹æ¯”

```typescript
// âœ… æ­£ç¡®ï¼šä¸šåŠ¡æ˜ç¡®çš„ç±»å‹å®šä¹‰
// types/user.ts
export interface UserProfile {
  id: string;
  displayName: string;
  avatar: string;
}

export interface UserPreferences {
  language: string;
  timezone: string;
  notifications: boolean;
}

// âŒ é”™è¯¯ï¼šæ¨¡ç³Šçš„ç±»å‹å®šä¹‰
// types/index.ts
export interface User {
  id: string;
  name: string;
}
```

### ğŸ“ utils/ ç›®å½•

#### âœ… æ¨èå‘½å

```
src/utils/
â”œâ”€â”€ format.ts           # æ ¼å¼åŒ–å·¥å…·
â”œâ”€â”€ validation.ts       # éªŒè¯å·¥å…·
â”œâ”€â”€ dates.ts            # æ—¥æœŸå¤„ç†å·¥å…·
â”œâ”€â”€ currency.ts         # è´§å¸å¤„ç†å·¥å…·
â””â”€â”€ files.ts            # æ–‡ä»¶å¤„ç†å·¥å…·

pages/data-analysis/utils/
â”œâ”€â”€ chart.ts            # å›¾è¡¨å·¥å…·
â”œâ”€â”€ statistics.ts       # ç»Ÿè®¡å·¥å…·
â””â”€â”€ export.ts           # å¯¼å‡ºå·¥å…·
```

#### âŒ é¿å…å‘½å

```
src/utils/
â”œâ”€â”€ index.ts           # âŒ æ— æ³•è¡¨è¾¾å·¥å…·ç”¨é€”
â”œâ”€â”€ helpers.ts         # âŒ è¿‡äºå®½æ³›
â”œâ”€â”€ common.ts          # âŒ ç¼ºä¹å…·ä½“å«ä¹‰
â””â”€â”€ tools.ts           # âŒ æ¨¡ç³Šè¡¨è¾¾
```

#### ç¤ºä¾‹å¯¹æ¯”

```typescript
// âœ… æ­£ç¡®ï¼šåŠŸèƒ½æ˜ç¡®çš„å·¥å…·å‡½æ•°
// utils/currency.ts
export const formatCurrency = (amount: number, currency: string): string => {
  return new Intl.NumberFormat("zh-CN", {
    style: "currency",
    currency: currency,
  }).format(amount);
};

export const parseCurrencyInput = (input: string): number => {
  return parseFloat(input.replace(/[^\d.-]/g, ""));
};

// utils/validation.ts
export const validateEmail = (email: string): boolean => {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
};

export const validatePhoneNumber = (phone: string): boolean => {
  const phoneRegex = /^1[3-9]\d{9}$/;
  return phoneRegex.test(phone);
};

// âŒ é”™è¯¯ï¼šæ¨¡ç³Šçš„å·¥å…·å‡½æ•°
// utils/index.ts
export const formatData = (data: any) => {
  /* ... */
};
export const validateInput = (input: any) => {
  /* ... */
};
```

### ğŸ“ models/ ç›®å½•

#### âœ… æ¨èå‘½å

```
pages/user-profile/models/
â”œâ”€â”€ page.ts             # é¡µé¢ä¸»é€»è¾‘å®¹å™¨
â”œâ”€â”€ profile-form.ts     # èµ„æ–™è¡¨å•é€»è¾‘
â”œâ”€â”€ avatar-upload.ts    # å¤´åƒä¸Šä¼ é€»è¾‘
â””â”€â”€ settings.ts         # è®¾ç½®ç›¸å…³é€»è¾‘
```

#### âŒ é¿å…å‘½å

```
pages/user-profile/models/
â”œâ”€â”€ index.ts           # âŒ æ— æ³•è¡¨è¾¾é€»è¾‘èŒè´£
â”œâ”€â”€ hooks.ts           # âŒ æŠ€æœ¯æœ¯è¯­ï¼Œç¼ºä¹ä¸šåŠ¡å«ä¹‰
â””â”€â”€ state.ts           # âŒ è¿‡äºå®½æ³›
```

### ğŸ“ services/ ç›®å½•

#### âœ… æ¨èå‘½å

```
src/services/
â”œâ”€â”€ user-service.ts     # ç”¨æˆ·æœåŠ¡æ¥å£
â”œâ”€â”€ payment-service.ts  # æ”¯ä»˜æœåŠ¡æ¥å£
â”œâ”€â”€ upload-service.ts   # ä¸Šä¼ æœåŠ¡æ¥å£
â””â”€â”€ auth-service.ts     # è®¤è¯æœåŠ¡æ¥å£
```

#### âŒ é¿å…å‘½å

```
src/services/
â”œâ”€â”€ index.ts           # âŒ æ— æ³•è¡¨è¾¾æœåŠ¡èŒè´£
â”œâ”€â”€ api.ts             # âŒ è¿‡äºå®½æ³›
â””â”€â”€ client.ts          # âŒ æŠ€æœ¯æœ¯è¯­ï¼Œç¼ºä¹ä¸šåŠ¡å«ä¹‰
```

## ç‰¹æ®Šæƒ…å†µå¤„ç†

### ğŸ¯ å…è®¸ index æ–‡ä»¶çš„åœºæ™¯

#### 1. UI ç»„ä»¶å¯¼å‡º

```typescript
// âœ… components/user-card/index.tsx
import UserCard from "./UserCard";
export default UserCard;
```

#### 2. è§†å›¾ç»„ä»¶å…¥å£

```typescript
// âœ… views/main/index.tsx
import Main from "./Main";
export default Main;
```

### ğŸš« ä¸¥æ ¼ç¦æ­¢çš„åœºæ™¯

#### 1. ä¸šåŠ¡é€»è¾‘æ··åˆå¯¼å‡º

```typescript
// âŒ ç¦æ­¢ï¼šutils/index.ts
export * from "./validation";
export * from "./format";
export * from "./currency";
// é—®é¢˜ï¼šæ— æ³•æ˜ç¡®æ–‡ä»¶èŒè´£ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬
```

#### 2. ç±»å‹å®šä¹‰æ··åˆå¯¼å‡º

```typescript
// âŒ ç¦æ­¢ï¼štypes/index.ts
export * from "./user";
export * from "./order";
export * from "./payment";
// é—®é¢˜ï¼šç±»å‹æ¥æºä¸æ˜ç¡®ï¼Œè°ƒè¯•å›°éš¾
```

## é‡æ„æŒ‡å—

### ä» index æ–‡ä»¶è¿ç§»

#### æ­¥éª¤ 1ï¼šåˆ†æå†…å®¹åˆ†ç»„

```typescript
// åŸæ–‡ä»¶ï¼šconstants/index.ts
export const USER_STATUS = { ACTIVE: "active", INACTIVE: "inactive" };
export const FORM_RULES = { MAX_LENGTH: 50, MIN_LENGTH: 8 };
export const API_ENDPOINTS = { user: "/api/user", order: "/api/order" };
```

#### æ­¥éª¤ 2ï¼šæŒ‰ä¸šåŠ¡é¢†åŸŸæ‹†åˆ†

```typescript
// æ–°æ–‡ä»¶ï¼šconstants/user.ts
export const USER_STATUS = {
  active: "active",
  inactive: "inactive",
};

// æ–°æ–‡ä»¶ï¼šconstants/form.ts
export const FORM_RULES = {
  maxLength: 50,
  minLength: 8,
};

// æ–°æ–‡ä»¶ï¼šconstants/api.ts
export const API_ENDPOINTS = {
  userProfile: "/api/user",
  orderList: "/api/order",
};
```

#### æ­¥éª¤ 3ï¼šæ›´æ–°å¯¼å…¥è¯­å¥

```typescript
// âœ… é‡æ„å
import { USER_STATUS } from "../constants/user";
import { FORM_RULES } from "../constants/form";

// âŒ é‡æ„å‰
import { USER_STATUS, FORM_RULES } from "../constants";
```

## æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **æ–‡ä»¶åå³æ–‡æ¡£**ï¼šé€šè¿‡æ–‡ä»¶åå°±èƒ½ç†è§£å…¶ä¸šåŠ¡èŒè´£
2. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„ä¸šåŠ¡é¢†åŸŸ
3. **é¢†åŸŸåˆ†ç»„ä¼˜å…ˆ**ï¼š2ä¸ªä»¥ä¸ŠåŒé¢†åŸŸæ–‡ä»¶ä½¿ç”¨ç›®å½•åˆ†ç»„ï¼Œé¿å…å‘½åå‰ç¼€
4. **é¿å…ç¼©å†™**ï¼šä½¿ç”¨å®Œæ•´çš„ä¸šåŠ¡æœ¯è¯­ï¼Œé¿å…æ¨¡ç³Šç¼©å†™
5. **å¤æ•°/å•æ•°è§„èŒƒ**ï¼šä¸¥æ ¼éµå¾ªå¤æ•°/å•æ•°å†³ç­–æµç¨‹
6. **å¯¼å‡ºä¼˜åŒ–**ï¼šä¸šåŠ¡é€»è¾‘ä¼˜å…ˆç”¨å‘½åå¯¼å‡ºï¼Œç»„ä»¶ç”¨ default å¯¼å‡º
7. **Tree Shaking å‹å¥½**ï¼šä¼˜å…ˆä½¿ç”¨å‘½åå¯¼å‡ºæ”¯æŒæŒ‰éœ€å¯¼å…¥
8. **ç›®å½•è§„èŒƒ**ï¼šä¸¥æ ¼æŒ‰ç…§ç›®å½•åˆ†ç±»è§„åˆ™ç»„ç»‡æ–‡ä»¶
9. **é‡æ„æ•æ„Ÿæ€§**ï¼šå‘ç°åŒé¢†åŸŸæ–‡ä»¶å¢å¤šæ—¶åŠæ—¶é‡æ„ä¸ºåˆ†ç»„ç»“æ„

### âŒ é¿å…åšæ³•

1. **æŠ€æœ¯å¯¼å‘å‘½å**ï¼šå¦‚ `hooks.ts`ã€`interfaces.ts`ã€`enums.ts`
2. **è¿‡åº¦æŠ½è±¡å‘½å**ï¼šå¦‚ `common.ts`ã€`shared.ts`ã€`global.ts`
3. **å‘½åå‰ç¼€æ¨¡å¼**ï¼šå¤šä¸ªåŒé¢†åŸŸæ–‡ä»¶ä½¿ç”¨å‰ç¼€è€Œéåˆ†ç»„ï¼ˆå¦‚ `user-profile.ts` vs `user/profile.ts`ï¼‰
4. **æ··åˆèŒè´£æ–‡ä»¶**ï¼šä¸€ä¸ªæ–‡ä»¶åŒ…å«å¤šä¸ªä¸ç›¸å…³çš„ä¸šåŠ¡é¢†åŸŸ
5. **index æ–‡ä»¶æ»¥ç”¨**ï¼šåœ¨ä¸šåŠ¡ä»£ç ä¸­å¤§é‡ä½¿ç”¨ index æ–‡ä»¶
6. **å¯¼å‡ºæ–¹å¼æ··ä¹±**ï¼šä¸šåŠ¡é€»è¾‘æ–‡ä»¶ä½¿ç”¨ default å¯¼å‡º
7. **å¤æ•°/å•æ•°ä¸ä¸€è‡´**ï¼šå¿½è§†å‘½åè¯­ä¹‰è§„èŒƒ
8. **ç›®å½•è¿è§„**ï¼šåœ¨ç¦æ­¢ä½¿ç”¨ index çš„ç›®å½•ä¸­åˆ›å»º index æ–‡ä»¶
9. **å¿½è§†é‡æ„æ—¶æœº**ï¼šå‘ç°åŒé¢†åŸŸæ–‡ä»¶å¢å¤šæ—¶ä¸åŠæ—¶é‡æ„ä¸ºåˆ†ç»„ç»“æ„
